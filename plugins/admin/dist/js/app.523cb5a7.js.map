{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?e164","webpack:///./src/components/NavDrawer.vue?4e9e","webpack:///src/components/NavDrawer.vue","webpack:///./src/components/NavDrawer.vue?75a6","webpack:///./src/components/NavDrawer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/lambda/_lambdaSettings.js","webpack:///./src/store.js","webpack:///./src/router.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/EditableSpan.vue?fe0d","webpack:///src/components/EditableSpan.vue","webpack:///./src/components/EditableSpan.vue?872a","webpack:///./src/components/EditableSpan.vue","webpack:///./src/main.js","webpack:///./src/App.vue?926f","webpack:///./src/components/EditableSpan.vue?0761"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","dark","staticClass","model","callback","$$v","drawer","expression","scopedSlots","_u","fn","ref","hover","class","staticStyle","_v","on","$event","stopPropagation","_s","$route","path","includes","nativeOn","toggleControlsViewer","$store","state","viewerControls","_e","logout","toggleDark","staticRenderFns","user","role","serverManifest","serverName","server","component","components","NavDrawer","methods","localStorage","setItem","dispatch","$router","commit","created","updated","overlay","onclick","showSidebar","LambdaSettings","Lambdas","removeArraysRecursive","foo","bar","Array","isArray","getStructuralArrPropKeys","Vue","use","Vuex","adminStore","streams","users","projects","mutations","ADD_STREAMS_ADMIN","forEach","stream","findIndex","x","streamId","description","tags","unshift","UPDATE_STREAM","props","found","find","keys","updatedAt","Date","toISOString","DELETE_STREAM","index","log","ADD_USERS_ADMIN","u","_id","UPDATE_USER","ADD_PROJECTS_ADMIN","project","deleted","UPDATE_PROJECT","DELETE_PROJECT","getters","actions","getStreamsAdmin","context","Axios","res","resources","catch","getUsersAdmin","resource","updateUserAdmin","put","getProjectsAdmin","getTokenMSAL","clientId","authority","loginRequest","userAgent","Msal","auth","redirectUri","location","origin","cache","cacheLocation","storeAuthStateInCookie","getCachedToken","token","accessToken","acquireTokenSilent","errorCode","msalClientId","loginPopup","acquireTokenPopup","Store","isAuth","deStreams","clients","comments","loadedStreamIds","objects","legend","selectedObjects","myClient","lambdas","processors","tokens","streamClients","filter","filteredStreams","filters","base","parent","query","toLowerCase","private","toString","myTags","split","map","streamTags","every","owner","objectPropertyKeys","keySet","Set","stringKeySet","obj","properties","flatProps","flatten","add","keySets","allKeys","sort","a","b","stringKeys","hasStructuralProperties","structural","structuralKeys","SET_DARK","TOGGLE_VIEWER_CONTROLS","ADD_STREAMS","UPDATE_STREAM_DATA","layers","ADD_CLIENTS","client","ADD_DE_STREAM","ADD_DE_STREAM_LAYER","newLayer","orderIndex","startIndex","objectCount","topology","guid","uuid","UPDATE_DE_STREAM_LAYER","layer","surpassed","objectCountDifference","iterLayer","REMOVE_DE_STREAM_LAYER","APPEND_DE_STREAM_LAYERS_FROM_CSV","transposed","arr","noHeader","val","k","ADD_PROJECTS","warn","ADD_LAMBDAS","lambda","function","ADD_PROCESSORS","processor","UPDATE_PROCESSOR","DELETE_PROCESSOR","ADD_TOKEN","id","set","DELETE_TOKEN","delete","ADD_USER","ADD_USERS","SET_SERVER","SET_SERVER_DETAILS","SET_TOKEN","SET_USER","SET_WEB_APP_CLIENT","FLUSH_ALL","ADD_LOADED_STREAMID","REMOVE_LOADED_STREAMID","indexOf","ADD_OBJECTS","UPDATE_OBJECTS_STREAMS","objIds","streamToAdd","streamToRemove","myObject","REMOVE_OBJECTS","objectIds","SET_SELECTED_OBJECTS","ADD_SELECTED_OBJECTS","REMOVE_SELECTED_OBJECTS","SET_LEGEND","getStream","refreshStream","getStreams","createStream","post","onlineEditable","updateStream","updateStreamObjectsAndLayers","commitMessage","surname","lastChangedBy","originalStream","children","clone","getStreamClients","deleteStream","payload","getStreamObjects","ids","getObjects","createObjects","getProject","getProjects","createProject","updateProject","addUserToProject","projectId","userId","permissions","canWrite","canRead","myStream","uniq","upgradeUserInProject","downgradeUserInProject","streamsToAddReadAndPullWrite","streamsToAddToRead","removeUserInProject","streamsToPullBothFrom","streamsToPullWriteFrom","streamsToPullReadFrom","addStreamToProject","removeStreamFromProject","deleteProject","modifiedStreams","loadLambdas","myLambdas","method","url","baseURL","protocol","host","responseURL","pop","getProcessor","JSON","parse","getItem","getProcessors","processorIds","createProcessor","proc","blocks","params","anonymousComments","stringify","updateProcessor","deleteProcessor","removeItem","foundIndex","authenticateBlocks","msal","propName","createClient","defaults","headers","common","documentName","documentType","online","getUser","updateLoggedInUser","login","email","password","admin","Router","myRouter","linkExactActiveClass","routes","meta","requiresAuth","beforeEach","to","from","next","btoa","register","process","ready","registered","cached","updatefound","offline","hint","disabled","domProps","getContent","updateOnBlur","_k","keyCode","updateOnEnter","text","dataKey","computed","innerText","newContent","$emit","blur","config","productionTip","Vuetify","theme","primary","colors","blue","darken1","secondary","lighten4","accent","indigo","VueTimeago","locale","response","Authorization","status","initApp","$http","bus","ColorHasher","CH","mixin","getHexFromString","str","hex","EditableSpan","router","store","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,EAAgBP,IAClBK,EAASG,KAAKD,EAAgBP,GAAS,IAExCO,EAAgBP,GAAW,EAE5B,IAAID,KAAYG,EACZO,OAAOC,UAAUC,eAAeC,KAAKV,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBR,KAAKS,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3Bf,EAAgBgB,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAGtE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJrB,EAAkB,CACrB,IAAO,GAGJS,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAI5yB,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUa,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,GAC7NR,EAAmB5B,GAAUmC,EAAS3B,KAAKoB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAAS3B,KAAKoB,EAAmB5B,GAAW,IAAIqC,QAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,GAAGxC,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,OACpxByC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,KACfgB,KAAK,WACPtC,EAAmB5B,GAAW,KAMhC,IAAImE,EAAqB5D,EAAgBP,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAAS3B,KAAK2D,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,QAAQ,SAASC,EAASC,GAC3C4B,EAAqB5D,EAAgBP,GAAW,CAACsC,EAASC,KAE3DJ,EAAS3B,KAAK2D,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAE5BqE,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCsB,aAAaH,GACb,IAAII,EAAQrE,EAAgBP,GAC5B,GAAa,IAAV4E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYtB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE0B,EAAUvB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IAChDqB,EAAQ,IAAInB,MAAM,iBAAmB5D,EAAU,cAAgB6E,EAAY,KAAOC,EAAU,KAChGC,EAAM3B,KAAOyB,EACbE,EAAMvB,QAAUsB,EAChBF,EAAM,GAAGG,GAEVxE,EAAgBP,QAAWgF,IAG7B,IAAIR,EAAUS,WAAW,WACxBZ,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,KAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ6C,IAAI/C,IAIpBV,EAAoB0D,EAAItE,EAGxBY,EAAoB2D,EAAIzD,EAGxBF,EAAoB4D,EAAI,SAAStD,EAASuD,EAAMC,GAC3C9D,EAAoB+D,EAAEzD,EAASuD,IAClC7E,OAAOgF,eAAe1D,EAASuD,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhE9D,EAAoBmE,EAAI,SAAS7D,GACX,qBAAX8D,QAA0BA,OAAOC,aAC1CrF,OAAOgF,eAAe1D,EAAS8D,OAAOC,YAAa,CAAEC,MAAO,WAE7DtF,OAAOgF,eAAe1D,EAAS,aAAc,CAAEgE,OAAO,KAQvDtE,EAAoBuE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQtE,EAAoBsE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK1F,OAAO2F,OAAO,MAGvB,GAFA3E,EAAoBmE,EAAEO,GACtB1F,OAAOgF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOtE,EAAoB4D,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR1E,EAAoB8E,EAAI,SAASvE,GAChC,IAAIuD,EAASvD,GAAUA,EAAOkE,WAC7B,WAAwB,OAAOlE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB4D,EAAEE,EAAQ,IAAKA,GAC5BA,GAIR9D,EAAoB+D,EAAI,SAASgB,EAAQC,GAAY,OAAOhG,OAAOC,UAAUC,eAAeC,KAAK4F,EAAQC,IAGzGhF,EAAoBK,EAAI,GAGxBL,EAAoBiF,GAAK,SAAS/C,GAA2B,MAApBgD,QAAQ5B,MAAMpB,GAAYA,GAEnE,IAAIiD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWpG,KAAK8F,KAAKM,GAC5CA,EAAWpG,KAAOX,EAClB+G,EAAaA,EAAWG,QACxB,IAAI,IAAI3G,EAAI,EAAGA,EAAIwG,EAAWtG,OAAQF,IAAKP,EAAqB+G,EAAWxG,IAC3E,IAAIU,EAAsBgG,EAI1B9F,EAAgBR,KAAK,CAAC,EAAE,kBAEjBU,K,iKCtQL,EAAS,WAAa,IAAI8F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAON,EAAIO,OAAO,CAACH,EAAG,sBAAsB,CAACI,YAAY,cAAcF,MAAM,CAAC,SAAW,GAAG,IAAM,IAAIG,MAAM,CAAC1B,MAAOiB,EAAU,OAAEU,SAAS,SAAUC,GAAMX,EAAIY,OAAOD,GAAKE,WAAW,WAAW,CAACT,EAAG,UAAU,CAACU,YAAYd,EAAIe,GAAG,CAAC,CAAC1B,IAAI,UAAU2B,GAAG,SAASC,GAChX,IAAIC,EAAQD,EAAIC,MAChB,OAAOd,EAAG,YAAY,CAACe,MAAO,cAAgBD,EAAQ,GAAK,GAAK,KAAOlB,EAAIO,KAAO,WAAa,YAAaD,MAAM,CAAC,KAAO,GAAG,UAAY,GAAG,KAAO,GAAG,SAAW,iCAAiC,CAACF,EAAG,MAAM,CAACI,YAAY,+BAA+B,CAACJ,EAAG,IAAI,CAACgB,YAAY,CAAC,MAAQ,QAAQ,kBAAkB,QAAQd,MAAM,CAAC,KAAO,wBAAwB,OAAS,WAAW,CAACF,EAAG,IAAI,CAACJ,EAAIqB,GAAG,aAAarB,EAAIqB,GAAG,mBAAmBjB,EAAG,OAAO,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,wDAAwDjB,EAAG,eAAe,GAAGA,EAAG,YAAY,CAACE,MAAM,CAAC,IAAM,GAAG,KAAO,KAAK,CAACF,EAAG,sBAAsB,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,kBAAkBxB,EAAIY,QAAUZ,EAAIY,WAAWR,EAAG,kBAAkB,CAACI,YAAY,oCAAoC,CAACR,EAAIqB,GAAGrB,EAAIyB,GAAGzB,EAAI0B,OAAOpD,SAAU0B,EAAI0B,OAAOC,KAAKC,SAAS,QAASxB,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,IAAIuB,SAAS,CAAC,MAAQ,SAASN,GAAQ,OAAOvB,EAAI8B,qBAAqBP,MAAW,CAACvB,EAAIqB,GAAGrB,EAAIyB,GAAGzB,EAAI+B,OAAOC,MAAMC,eAAiB,QAAS,QAAQ,gBAAgB,GAAGjC,EAAIkC,KAAK9B,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,IAAIuB,SAAS,CAAC,MAAQ,SAASN,GAAQ,OAAOvB,EAAImC,YAAY,CAACnC,EAAIqB,GAAG,0BAA0BjB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,KAAO,IAAIuB,SAAS,CAAC,MAAQ,SAASN,GAAQ,OAAOvB,EAAIoC,gBAAgB,CAAChC,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACN,EAAIqB,GAAG,eAAe,IAAI,GAAGjB,EAAG,YAAY,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,QAAU,qBAAqB,CAACF,EAAG,gBAAgB,IAAI,IAAI,IAC3/CiC,EAAkB,GCHlB,EAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAI+B,OAAOC,MAAY,OAAE5B,EAAG,SAAS,CAACI,YAAY,OAAOF,MAAM,CAAC,WAAW,KAAK,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,WAAW,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,UAAUjB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,8BAA8B,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,oBAAoB,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,aAAajB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,sCAAsC,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,eAAe,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,cAAcjB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,gDAAgD,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,qBAAqB,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,aAAajB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,gCAAgC,IAAI,GAAiC,UAA7BrB,EAAI+B,OAAOC,MAAMM,KAAKC,KAAgBnC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,eAAe,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,WAAWjB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,4BAA4B,IAAI,GAAGrB,EAAIkC,KAAK9B,EAAG,YAAY,CAACI,YAAY,SAASJ,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,UAAU,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,UAAU,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,YAAYjB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,2CAA2C,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,gBAAgB,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,WAAW,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,eAAejB,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,wBAAwB,IAAI,GAAGjB,EAAG,YAAY,CAACI,YAAY,UAAU,GAAGR,EAAIkC,KAAMlC,EAAI+B,OAAOC,MAAY,OAAE5B,EAAG,SAAS,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,WAAW,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,cAAc,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,eAAe,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,cAAc,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,eAAe,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,eAAe,IAAI,GAAGjB,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,sBAAsB,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,wBAAwB,CAACI,YAAY,6BAA6B,CAACR,EAAIqB,GAAG,uBAAuBrB,EAAIyB,GAAGzB,EAAI+B,OAAOC,MAAMQ,eAAeC,aAAarC,EAAG,MAAMJ,EAAIqB,GAAGrB,EAAIyB,GAAGzB,EAAI+B,OAAOC,MAAMU,YAAY,IAAI,IAAI,GAAGtC,EAAG,SAAS,CAACE,MAAM,CAAC,aAAa,KAAK,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,WAAW,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,WAAW,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,WAAWjB,EAAG,wBAAwB,CAACJ,EAAIqB,GAAG,kDAAkD,IAAI,GAAGjB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIqB,GAAG,UAAU,GAAGjB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIqB,GAAG,cAAcjB,EAAG,wBAAwB,CAACJ,EAAIqB,GAAG,qDAAqD,IAAI,IAAI,IAAI,IAC7xH,EAAkB,GC6HtB,GACE/C,KAAM,kBC/H2U,I,YCO/UqE,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCqBf,GACErE,KAAM,UACNsE,WAAY,CACVC,UAAJ,GAEE/J,KAAM,SAAR,UACA,UACA,QACA,oBAEEgK,QAAS,CACPV,WADJ,WAEMnC,KAAKM,MAAQN,KAAKM,KAClBwC,aAAaC,QAAQ,OAA3B,YAEIb,OALJ,WAMMlC,KAAK8B,OAAOkB,SAAS,UACrBhD,KAAKiD,QAAQ1J,KAAK,WAEpBsI,qBATJ,WAUM7B,KAAK8B,OAAOoB,OAAO,4BAGvBC,QAvBF,WAwBQ,KAAR,sBACMnD,KAAK8B,OAAOkB,SAAS,aAA3B,6DACMhD,KAAK8B,OAAOkB,SAAS,eACrBhD,KAAK8B,OAAOkB,SAAS,iBACrBhD,KAAK8B,OAAOkB,SAAS,iBAE3B,SAAQ,aAAR,kBACMhD,KAAKM,MAAO,EACZN,KAAK8B,OAAOoB,OAAO,YAAzB,IAGIlD,KAAK8B,OAAOkB,SAAS,gBAEvBI,QArCF,WAsCI,IAAJ,mDACA,IACIC,EAAQC,QAAU,WAChBtD,KAAKuD,aAAc,GACzB,cCjF8T,ICQ1T,G,UAAY,eACd,EACA,EACAnB,GACA,EACA,KACA,KACA,OAIa,I,2SCnBR,SAASoB,IACdxD,KAAKyD,QAAU,CAAE,WAAY,SAAU,SAAU,UAAW,kBAAmB,gBAAiB,cAAe,aCYjH,SAASC,EAAuBC,GAC9B,IAAIC,EAAM,GAEV,IAAM,IAAIxE,KAAOuE,EACTA,EAAIjK,eAAgB0F,KAChByE,MAAMC,QAASH,EAAKvE,MAEI,WAAtB,eAAOuE,EAAKvE,KAAqC,OAAfuE,EAAKvE,GACjDwE,EAAKxE,GAAQsE,EAAuBC,EAAKvE,IAEzCwE,EAAKxE,GAAQuE,EAAKvE,KAGtB,OAAOwE,EAGT,SAASG,EAA0BJ,GACjC,IAAIC,EAAM,GAEV,IAAM,IAAIxE,KAAOuE,EACTA,EAAIjK,eAAgB0F,KAChByE,MAAMC,QAASH,EAAKvE,IAC5BwE,EAAKxE,GAAL,qBAA4BuE,EAAIvE,GAAK/F,OAArC,aACgC,WAAtB,eAAOsK,EAAKvE,KAAqC,OAAfuE,EAAKvE,KACjDwE,EAAKxE,GAAQ2E,EAA0BJ,EAAKvE,MAGhD,OAAOwE,EA7BTI,aAAIC,IAAKC,QAqCT,IAAMC,EAAa,CACjBpC,MAAO,CACLqC,QAAS,GACTC,MAAO,GACPC,SAAW,IAEbC,UAAW,CAETC,kBAFS,SAEUzC,EAAOqC,GACxBA,EAAQK,QAAS,SAAAC,IAC0D,IAApE3C,EAAMqC,QAAQO,UAAW,SAAAC,GAAC,OAAIA,EAAEC,WAAaH,EAAOG,aAEjDH,EAAOI,cAAcJ,EAAOI,YAAc,OAC1CJ,EAAOK,OAAOL,EAAOK,KAAO,IAClChD,EAAMqC,QAAQY,QAASN,OAI7BO,cAZS,SAYMlD,EAAOmD,GACpB,IAAIC,EAAQpD,EAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaK,EAAML,WAC1D,IAAMM,EAAQ,OAAOzF,QAAQ5B,MAAO,oCACpCtE,OAAO6L,KAAMH,GAAQT,QAAS,SAAArF,GAC5B+F,EAAO/F,GAAQ8F,EAAO9F,KAExB+F,EAAMG,WAAc,IAAIC,MAAUC,eAEpCC,cApBS,SAoBM1D,EAAO2C,GACpB,IAAIgB,EAAQ3D,EAAMqC,QAAQO,UAAW,SAAAlK,GAAC,OAAIA,EAAEoK,WAAaH,EAAOG,WAC3Da,GAAS,EACZ3D,EAAMqC,QAAQ7J,OAAQmL,EAAO,GAE7BhG,QAAQiG,IAAR,kCAAwCjB,EAAOG,SAA/C,kBAGJe,gBA5BS,SA4BQ7D,EAAOsC,GACtBA,EAAMI,QAAS,SAAApC,GACb,IAAI8C,EAAQpD,EAAMsC,MAAMe,KAAM,SAAAS,GAAC,OAAIA,EAAEC,MAAQzD,EAAKyD,MAC5CX,EAEDA,EAAQ9C,EADXN,EAAMsC,MAAMW,QAAS3C,MAI3B0D,YApCS,SAoCIhE,EAAOM,GAClB,IAAI8C,EAAQ,KAEZ,GADAA,EAAQpD,EAAMsC,MAAMe,KAAM,SAAAS,GAAC,OAAIA,EAAEC,MAAQzD,EAAKyD,OACxCX,EACJ,OAAOzF,QAAQ5B,MAAO,oCACxBtE,OAAO6L,KAAMhD,GAAOoC,QAAS,SAAArF,GAC3B+F,EAAO/F,GAAQiD,EAAMjD,MAIzB4G,mBA9CS,SA8CWjE,EAAOuC,GACzBA,EAASG,QAAS,SAAAwB,IACiD,IAA5DlE,EAAMuC,SAASK,UAAW,SAAA9J,GAAC,OAAIA,EAAEiL,MAAQG,EAAQH,QAE9CG,EAAQlB,OAAOkB,EAAQlB,KAAO,IAC9BkB,EAAQC,UAAUD,EAAQC,SAAU,GAC1CnE,EAAMuC,SAASU,QAASiB,OAI9BE,eAxDS,SAwDOpE,EAAOmD,GACrB,IAAIC,EAAQpD,EAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQZ,EAAMY,MAClD,MAAQX,IACZ3L,OAAO6L,KAAMH,GAAQT,QAAS,SAAArF,GAC5B+F,EAAO/F,GAAQ8F,EAAO9F,KAExB+F,EAAMG,WAAc,IAAIC,MAAUC,gBAEpCY,eAhES,SAgEOrE,EAAOmD,GACrB,IAAIQ,EAAQ3D,EAAMuC,SAASK,UAAW,SAAA9J,GAAC,OAAIA,EAAEiL,MAAQZ,EAAMY,MACtDJ,GAAS,EACZ3D,EAAMuC,SAAS/J,OAAQmL,EAAO,GAE9BhG,QAAQiG,IAAR,mCAAyCT,EAAMY,IAA/C,mBAGNO,QAAS,GAETC,QAAS,CAEPC,gBAFO,SAEUC,GACf,OAAO,IAAIpL,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAK,iBACRzB,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,oBAAqBwD,EAAI7N,KAAK8N,WACvCtL,EAASqL,EAAI7N,KAAK8N,aAE1BC,MAAO,SAAAlK,GAEN,OADAgD,QAAQiG,IAAKjJ,GACNpB,EAAQoB,QAMvBmK,cAjBO,SAiBQL,GACb,OAAO,IAAIpL,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAK,kBACRzB,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,kBAAmBwD,EAAI7N,KAAKiO,UACrCzL,EAASqL,EAAI7N,KAAK8N,aAE1BC,MAAO,SAAAlK,GAEN,OADAgD,QAAQiG,IAAKjJ,GACNpB,EAAQoB,QAIvBqK,gBA9BO,SA8BUP,EAASnE,GACxB,OAAO,IAAIjH,QAAS,SAAEC,EAASC,GAC7BmL,IAAMO,IAAI,YAAc3E,EAAKyD,IAAKzD,GACjCpF,KAAK,SAAAyJ,GACF,OAAOrL,EAAQmL,EAAQtD,OAAQ,cAAeb,MAEjDuE,MAAO,SAAAlK,GACN,OAAOpB,EAAQoB,QAMrBuK,iBA3CO,SA2CWT,GAChB,OAAO,IAAIpL,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAK,kBACRzB,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,qBAAsBwD,EAAI7N,KAAK8N,WACxCtL,EAASqL,EAAI7N,KAAK8N,aAE1BC,MAAO,SAAAlK,GAEN,OADAgD,QAAQiG,IAAKjJ,GACNpB,EAAQoB,U,SAOZwK,E,+FAAf,mHAAgCC,EAAhC,EAAgCA,SAAUC,EAA1C,EAA0CA,UAAWC,EAArD,EAAqDA,aAG/CC,EAAY,IAAIC,OAA0B,CAC5CC,KAAM,CACJL,SAAUA,EACVC,UAAWA,EACXK,YAAa7H,OAAO8H,SAASC,OAAS,cAExCC,MAAO,CACLC,cAAe,eACfC,wBAAwB,KAX9B,SAeoBR,EAAUS,eAAeZ,GAf7C,UAeMa,EAfN,QAiBMA,EAjBN,yCAkBWA,EAAMC,aAlBjB,iCAsBkBX,EAAUY,mBAAmBb,GAtB/C,QAsBIW,EAtBJ,+DA0BItI,QAAQiG,IAAI,eAAiB,KAAEwC,WACX,qBAAhB,KAAEA,UA3BV,wBA6BMvI,OAAOkD,aAAasF,aAAejB,EA7BzC,UA8BYG,EAAUe,WAAWhB,GA9BjC,sBA+BazH,OAAOkD,aAAasF,aA/BjC,UAgCmBlB,EAAc,CAACC,SAAUA,EAAUC,UAAWA,EAAWC,aAAcA,IAhC1F,oDAkC6B,wBAAhB,KAAEc,UAlCf,wBAoCMvI,OAAOkD,aAAasF,aAAejB,EApCzC,UAqCoBG,EAAUgB,kBAAkBjB,GArChD,QAqCMW,EArCN,cAsCapI,OAAOkD,aAAasF,aAtCjC,iCA0CSJ,EAAMC,aA1Cf,wD,wBA6Ce,UAAI/D,OAAKqE,MAAO,CAC7BxG,MAAO,CAELU,OAAQ,KAERF,eAAgB,KAChByF,MAAO,KACP3F,KAAM,GACNmG,QAAQ,EAERpE,QAAS,GAGTqE,UAAW,GAEXC,QAAS,GAETpE,SAAU,GACVqE,SAAU,GAGVtE,MAAO,GAEPuE,gBAAiB,GACjBC,QAAS,GACTC,OAAQ,KACRC,gBAAiB,GAEjBC,SAAU,KAEV1I,MAAM,EAEN0B,gBAAgB,EAKhBiH,QAAS,GACTC,WAAY,GACZC,OAAQ,IAEV9C,QAAS,CACP+C,cAAe,SAAErH,GAAF,OAAa,SAAE8C,GAC5B,OAAO9C,EAAM2G,QAAQW,OAAQ,SAAAlL,GAAC,OAAIA,EAAE0G,WAAaA,MAEnDyE,gBAAiB,SAAEvH,GAAF,OAAa,SAAEwH,GAC9B,IAAIC,EAAOzH,EAAMqC,QAAQiF,OAAQ,SAAA3E,GAAM,OAAqB,MAAjBA,EAAO+E,SAAqC,IAAnB/E,EAAOwB,UAC3E,OAAMqD,GAA8B,IAAnBA,EAAQlQ,QACzBkQ,EAAQ9E,QAAS,SAAAiF,GAEf,GADAA,EAAMtK,IAAMsK,EAAMtK,IAAIuK,cACD,OAAhBD,EAAM5K,MAAiB0K,EAAOA,OAGjC,OADAA,EAAOA,EAAKH,OAAQ,SAAA3E,GAAM,MAAoB,KAAhBA,EAAOrG,OAC5BqL,EAAMtK,KACb,IAAK,UAEDoK,EADGE,EAAM5K,MACF0K,EAAKH,OAAQ,SAAA3E,GAAM,OAAIA,EAAOkF,QAAQC,aAAgBH,EAAM5K,QAE5D0K,EAAKH,OAAQ,SAAA3E,GAAM,OAAuB,IAAnBA,EAAOkF,UACvC,MACF,IAAK,SAEDJ,EADGE,EAAM5K,MACF0K,EAAKH,OAAQ,SAAA3E,GAAM,QAAOA,EAAOkF,SAAUC,aAAgBH,EAAM5K,QAEjE0K,EAAKH,OAAQ,SAAA3E,GAAM,OAAuB,IAAnBA,EAAOkF,UACvC,MACF,IAAK,MACL,IAAK,OACH,IAAIE,EAASJ,EAAM5K,MAAMiL,MAAO,KAAMC,IAAK,SAAAjL,GAAC,OAAIA,EAAE4K,gBAClDH,EAAOA,EAAKH,OAAQ,SAAA3E,GAClB,IAAIuF,EAAavF,EAAOK,KAAKiF,IAAK,SAAAjL,GAAC,OAAIA,EAAE4K,gBACzC,OAAOG,EAAOI,MAAO,SAAAnL,GAAC,OAAIkL,EAAWtI,SAAU5C,OAEjD,MACF,IAAK,OACHyK,EAAOA,EAAKH,OAAQ,SAAA3E,GAAM,OAAIA,EAAOyF,QAAUpI,EAAMM,KAAKyD,MAC1D,MACF,IAAK,SACH0D,EAAOA,EAAKH,OAAQ,SAAA3E,GAAM,OAAIA,EAAOyF,QAAUpI,EAAMM,KAAKyD,MAC1D,MACF,IAAK,OACH0D,EAAOA,EAAKH,OAAQ,SAAA3E,GAAM,OAAIA,EAAOrG,MAAOqG,EAAOrG,KAAKsL,cAAehI,SAAU+H,EAAM5K,MAAM6K,iBAC7F,MACF,IAAK,WACL,IAAK,KACHH,EAAOA,EAAKH,OAAQ,SAAA3E,GAAM,OAAIA,EAAOG,SAAS8E,cAAehI,SAAU+H,EAAM5K,MAAM6K,iBACnF,SAIDH,GA3CwCA,IA6CjDY,mBAAoB,SAAErI,GACpB,IAAIsI,EAAS,IAAIC,IACbC,EAAe,IAAID,IACvBvI,EAAM8G,QAAQpE,QAAS,SAAA+F,GACrB,GAAMA,EAAIC,WAAV,CACA,IAAIC,EAAYC,IAASjH,EAAuB8G,EAAIC,aACpD,IAAM,IAAIrL,KAAOsL,EACF,SAARtL,GAA0B,OAARA,GAAgBA,EAAIuK,cAAehI,SAAU,SAAYvC,EAAIuK,cAAehI,SAAU,YACxGvC,EAAIuC,SAAU,QACnB0I,EAAOO,IAAKxL,GACqB,kBAArBsL,EAAWtL,IACrBmL,EAAaK,IAAKxL,OAGxB,IAAIyL,EAAU,CACZC,QAAS,eAAKT,GAASU,KAAM,SAAEC,EAAGC,GAAS,OAAOD,EAAEjB,MAAO,KAAM1Q,OAAS4R,EAAElB,MAAO,KAAM1Q,SAAW0R,KAAM,SAAEC,EAAGC,GAAS,OAAOD,EAAE3R,OAAS4R,EAAE5R,SAC5I6R,WAAY,eAAKX,GAAeQ,KAAM,SAAEC,EAAGC,GAAS,OAAOD,EAAEjB,MAAO,KAAM1Q,OAAS4R,EAAElB,MAAO,KAAM1Q,SAAW0R,KAAM,SAAEC,EAAGC,GAAS,OAAOD,EAAE3R,OAAS4R,EAAE5R,UAEvJ,OAAOwR,GAGTM,wBAAyB,SAAEpJ,GAAW,2BACpC,YAAiBA,EAAM8G,QAAvB,+CAAiC,KAAvB2B,EAAuB,QAC/B,IACE,GAA0C,OAArCA,EAAIC,WAAWW,WAAWlR,OAC7B,OAAO,EACT,YALgC,kFAOpC,OAAO,GAGTmR,eAAgB,SAAEtJ,GAChB,IAAIsD,EAAO,IAAIiF,IADY,uBAE3B,YAAiBvI,EAAM8G,QAAvB,+CAAiC,KAAvB2B,EAAuB,QAC/B,IACE,IAAItF,EAAQyF,IAAS5G,EAA0ByG,EAAIC,WAAWW,WAAWlR,SACzE,IAAM,IAAIkF,KAAO8F,EACfG,EAAKuF,IAAKxL,GACZ,YAPuB,kFAS3B,sBAAYiG,KAGhBd,UAAW,CACT+G,SADS,SACCvJ,EAAOzB,GACfyB,EAAMzB,KAAOA,GAEfiL,uBAJS,SAIexJ,GACtBA,EAAMC,gBAAkBD,EAAMC,gBAGhCwJ,YARS,SAQIzJ,EAAOqC,GAClBA,EAAQK,QAAS,SAAAC,IAC0D,IAApE3C,EAAMqC,QAAQO,UAAW,SAAAC,GAAC,OAAIA,EAAEC,WAAaH,EAAOG,aAEjDH,EAAOI,cAAcJ,EAAOI,YAAc,OAC1CJ,EAAOK,OAAOL,EAAOK,KAAO,IAClChD,EAAMqC,QAAQY,QAASN,OAI7BO,cAlBS,SAkBMlD,EAAOmD,GACpB,IAAIC,EAAQpD,EAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaK,EAAML,WAC1D,IAAMM,EAAQ,OAAOzF,QAAQ5B,MAAO,sCACpCtE,OAAO6L,KAAMH,GAAQT,QAAS,SAAArF,GAC5B+F,EAAO/F,GAAQ8F,EAAO9F,KAExB+F,EAAMG,WAAc,IAAIC,MAAUC,eAEpCiG,mBA1BS,SA0BW1J,EAAOmD,GACzB,IAAIC,EAAQpD,EAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaK,EAAML,WACrDK,EAAMwG,SACTvG,EAAMuG,OAASxG,EAAMwG,QACvBvG,EAAMG,WAAc,IAAIC,MAAUC,eAGpCC,cAjCS,SAiCM1D,EAAO2C,GACpB,IAAIgB,EAAQ3D,EAAMqC,QAAQO,UAAW,SAAAlK,GAAC,OAAIA,EAAEoK,WAAaH,EAAOG,WAC3Da,GAAS,EACZ3D,EAAMqC,QAAQ7J,OAAQmL,EAAO,GAE7BhG,QAAQiG,IAAR,kCAAwCjB,EAAOG,SAA/C,kBAIJ8G,YA1CS,SA0CI5J,EAAO2G,GAClBA,EAAQjE,QAAS,SAAAmH,IACgD,IAA1D7J,EAAM2G,QAAQ/D,UAAW,SAAAC,GAAC,OAAIA,EAAEkB,MAAQ8F,EAAO9F,OAClD/D,EAAM2G,QAAQnP,KAAMqS,MAK1BC,cAlDS,SAkDM9J,EAAO2C,GACpB,IAAIS,EAAQpD,EAAM0G,UAAUrD,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaH,IAChDS,GAGJA,EAAMuG,OAAShH,EAAOgH,OACtBvG,EAAM0D,QAAUnE,EAAOmE,SAHvB9G,EAAM0G,UAAUlP,KAAMmL,IAM1BoH,oBA3DS,SA2DY/J,EAAO2C,GAC1BhF,QAAQiG,IAAKjB,GACb,IAAIS,EAAQpD,EAAM0G,UAAUrD,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaH,EAAOG,WACzDkH,EAAW,CACb1N,KAAM,eAAF,OAAiB8G,EAAMuG,OAAOrS,OAAS,GAC3C2S,WAAY7G,EAAMuG,OAAOrS,OACzB4S,WAAY9G,EAAM0D,QAAQxP,OAC1B6S,YAAa,EACbC,SAAU,MACVC,KAAMC,OAERlH,EAAMuG,OAAOnS,KAAMwS,IAErBO,uBAxES,SAwEevK,EAxEf,GAwEqD,IAA7B8C,EAA6B,EAA7BA,SAAU0H,EAAmB,EAAnBA,MAAO1D,EAAY,EAAZA,QAC5C1D,EAAQpD,EAAM0G,UAAUrD,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAClD2H,GAAY,EACdC,EAAwB,EAE1BtH,EAAMuG,OAAOjH,QAAS,SAAAiI,GACpB,GAAKF,EACHE,EAAUT,YAAcQ,OACnB,GAAKC,EAAUN,OAASG,EAAMH,KAAO,OAC1CM,EAAUrO,KAAOkO,EAAMlO,KACvBqO,EAAUP,SAAV,YAA0BtD,EAAQxP,QAClCoT,EAAwB5D,EAAQxP,OAASqT,EAAUR,aACnD,EAAA/G,EAAM0D,SAAQtO,OAAd,SAAsBmS,EAAUT,WAAYS,EAAUR,aAAtD,sBAAsErD,KACtE6D,EAAUR,YAAcrD,EAAQxP,OAChCmT,GAAY,MAIlBG,uBA1FS,SA0Fe5K,EA1Ff,GA0F4C,IAApB8C,EAAoB,EAApBA,SAAU0H,EAAU,EAAVA,MACrCpH,EAAQpD,EAAM0G,UAAUrD,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAEtDM,EAAM0D,QAAQtO,OAAQgS,EAAMN,WAAYM,EAAML,aAE9C,IAAIM,GAAY,EAChBrH,EAAMuG,OAAOjH,QAAS,SAAAiI,GACfF,GACHE,EAAUT,YAAcM,EAAML,YAC9BQ,EAAUV,YAAc,GACdU,EAAUN,OAASG,EAAMH,OAAOI,GAAY,KAG1DrH,EAAMuG,OAASvG,EAAMuG,OAAOrC,OAAQ,SAAArO,GAAC,OAAIA,EAAEoR,OAASG,EAAMH,QAE5DQ,iCAzGS,SAyGyB7K,EAzGzB,GAyG2D,IAAzB8C,EAAyB,EAAzBA,SAAUgI,EAAe,EAAfA,WAC/C1H,EAAQpD,EAAM0G,UAAUrD,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IADY,uBAGlE,YAAiBgI,EAAjB,+CAA8B,OAApBC,EAAoB,QACxBf,EAAW,CACb1N,KAAmB,KAAbyO,EAAK,GAAaA,EAAK,GAAM,UACnCd,YAAa,EACbC,WAA0B9G,EAAM0D,QAAQxP,OACxC6S,YAAaY,EAAIzT,OAAS,EAC1B8S,SAAU,KAAF,OAAOW,EAAIzT,OAAO,GAC1B+S,KAAMC,OAERlH,EAAMuG,OAAOnS,KAAMwS,GACnB,IAAIgB,EAAWD,EAAIhN,MAAO,EAAGgN,EAAIzT,QACjCqG,QAAQiG,IAAKoH,IACb,EAAA5H,EAAM0D,SAAQtP,KAAd,uBAAuBwT,EAAS/C,IAAK,SAAAgD,GACnC,OAAMA,EACc,mBAARA,EACH,CAAE7Q,KAAM,UAAW2C,MAAOkO,GACf,kBAARA,EACH,CAAE7Q,KAAM,SAAU2C,MAAOkO,GACd,kBAARA,EACH,CAAE7Q,KAAM,SAAU2C,MAAOkO,QADlC,EALmB,CAAE7Q,KAAM,OAAQ2C,MAAO,QAQ5C4G,GAxBgE,kFA0BlEP,EAAMuG,OAAOjH,QAAS,SAAE8H,EAAOU,GAC7BvN,QAAQiG,IAAKsH,GACbV,EAAMP,WAAaiB,KAIvBC,aAzIS,SAyIKnL,EAAOuC,GACnBA,EAASG,QAAS,SAAAwB,IACiD,IAA5DlE,EAAMuC,SAASK,UAAW,SAAA9J,GAAC,OAAIA,EAAEiL,MAAQG,EAAQH,QAE9CG,EAAQlB,OAAOkB,EAAQlB,KAAO,IAC9BkB,EAAQC,UAAUD,EAAQC,SAAU,GAC1CnE,EAAMuC,SAASU,QAASiB,OAI9BE,eAnJS,SAmJOpE,EAAOmD,GACrB,IAAIC,EAAQpD,EAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQZ,EAAMY,MACtD,GAAa,MAATX,EAAe,OAAOzF,QAAQyN,KAAK,yCACvC3T,OAAO6L,KAAMH,GAAQT,QAAS,SAAArF,GAC5B+F,EAAO/F,GAAQ8F,EAAO9F,KAExB+F,EAAMG,WAAc,IAAIC,MAAUC,eAEpCY,eA3JS,SA2JOrE,EAAOmD,GACrB,IAAIQ,EAAQ3D,EAAMuC,SAASK,UAAW,SAAA9J,GAAC,OAAIA,EAAEiL,MAAQZ,EAAMY,MACtDJ,GAAS,EACZ3D,EAAMuC,SAAS/J,OAAQmL,EAAO,GAE9BhG,QAAQiG,IAAR,mCAAyCT,EAAMY,IAA/C,kBAIJsH,YApKS,SAoKIrL,EAAOkH,GAClBA,EAAQxE,QAAS,SAAA4I,IAC0D,IAApEtL,EAAMkH,QAAQtE,UAAW,SAAA9J,GAAC,OAAIA,EAAEyS,WAAaD,EAAOC,YACvDvL,EAAMkH,QAAQ1P,KAAM8T,MAI1BE,eA3KS,SA2KOxL,EAAOmH,GACrBA,EAAWzE,QAAS,SAAA+I,IACmD,IAAhEzL,EAAMmH,WAAWvE,UAAW,SAAA9J,GAAC,OAAIA,EAAEiL,MAAQ0H,EAAU1H,QAElD0H,EAAUzI,OAAOyI,EAAUzI,KAAO,IACxChD,EAAMmH,WAAWlE,QAASwI,OAIhCC,iBApLS,SAoLS1L,EAAOmD,GACvB,IAAIC,EAAQpD,EAAMmH,WAAW9D,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,KAAOZ,EAAMY,MAEvDtM,OAAO6L,KAAMH,GAAQT,QAAS,SAAArF,GAC5B+F,EAAO/F,GAAQ8F,EAAO9F,MAG1BsO,iBA3LS,SA2LS3L,EAAOmD,GACvB,IAAIQ,EAAQ3D,EAAMmH,WAAWvE,UAAW,SAAA9J,GAAC,OAAIA,EAAEiL,MAAQZ,EAAMY,MACxDJ,GAAS,EACZ3D,EAAMmH,WAAW3O,OAAQmL,EAAO,GAEhChG,QAAQiG,IAAR,qCAA2CT,EAAMY,IAAjD,kBAEJ6H,UAlMS,SAkME5L,EAlMF,GAkMuB,IAAb6L,EAAa,EAAbA,GAAI5F,EAAS,EAATA,MACrBhE,aAAI6J,IAAI9L,EAAMoH,OAAQyE,EAAI5F,GAC1BtI,QAAQiG,IAAI5D,EAAMoH,SAEpB2E,aAtMS,SAsMK/L,EAAO6L,GACnB5J,aAAI+J,OAAOhM,EAAMoH,OAAQyE,GACzBlO,QAAQiG,IAAI5D,EAAMoH,SAIpB6E,SA5MS,SA4MCjM,EAAOM,GACf,IAAI8C,EAAQpD,EAAMsC,MAAMe,KAAM,SAAAS,GAAC,OAAIA,EAAEC,MAAQzD,EAAKyD,MAC5CX,EAEDA,EAAQ9C,EADXN,EAAMsC,MAAMW,QAAS3C,IAGzB4L,UAlNS,SAkNElM,EAAOsC,GAChBA,EAAMI,QAAS,SAAApC,GACb,IAAI8C,EAAQpD,EAAMsC,MAAMe,KAAM,SAAAS,GAAC,OAAIA,EAAEC,MAAQzD,EAAKyD,MAC5CX,EAEDA,EAAQ9C,EADXN,EAAMsC,MAAMW,QAAS3C,MAI3B0D,YA1NS,SA0NIhE,EAAOM,GAClB,IAAI8C,EAAQ,KAIZ,GAHmCA,EAA9B9C,EAAKyD,MAAQ/D,EAAMM,KAAKyD,IAAc/D,EAAMM,KAEvCN,EAAMsC,MAAMe,KAAM,SAAAS,GAAC,OAAIA,EAAEC,MAAQzD,EAAKyD,OAC1CX,EACJ,OAAOzF,QAAQ5B,MAAO,oCACxBtE,OAAO6L,KAAMhD,GAAOoC,QAAS,SAAArF,GAC3B+F,EAAO/F,GAAQiD,EAAMjD,MAKzB8O,WAvOS,SAuOGnM,EAAOU,GACjBV,EAAMU,OAASA,GAEjB0L,mBA1OS,SA0OWpM,EAAOQ,GACzBR,EAAMQ,eAAiBA,GAEzB6L,UA7OS,SA6OErM,EAAOiG,GAChBjG,EAAMiG,MAAQA,EACdjG,EAAMyG,QAAS,GAEjB6F,SAjPS,SAiPCtM,EAAOM,GACfN,EAAMM,KAAOA,GAEfiM,mBApPS,SAoPWvM,EAAO6J,GACzB7J,EAAM6J,OAASA,GAIjB2C,UAzPS,SAyPExM,GACTA,EAAMiG,MAAQ,KACdjG,EAAMM,KAAO,GACbN,EAAMqC,QAAU,GAChBrC,EAAMuC,SAAW,GACjBvC,EAAM2G,QAAU,GAChB3G,EAAMsC,MAAQ,GACdtC,EAAM4G,SAAW,GACjB5G,EAAMyG,QAAS,GAIjBgG,oBArQS,SAqQYzM,EAAO8C,GAC1B9C,EAAM6G,gBAAN,eAA6B,IAAI0B,IAAJ,yBAAcvI,EAAM6G,iBAApB,CAAqC/D,OAEpE4J,uBAxQS,SAwQe1M,EAAO8C,GAC7B,IAAIa,EAAQ3D,EAAM6G,gBAAgB8F,QAAS7J,IAC3B,IAAXa,EACH3D,EAAM6G,gBAAgBrO,OAAQmL,EAAO,GAErChG,QAAQyN,KAAR,4CAAmDtI,EAAnD,iBAAoE9C,EAAM6G,mBAG9E+F,YAhRS,SAgRI5M,EAAO8G,GAAU,OAC5B,EAAA9G,EAAM8G,SAAQtP,KAAd,uBAAuBsP,KAEzB+F,uBAnRS,SAmRe7M,EAnRf,GAmRgE,IAAxC8M,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,eACpDF,EAAOpK,QAAS,SAAAmJ,GACd,IAAIoB,EAAWjN,EAAM8G,QAAQzD,KAAM,SAAA7G,GAAC,OAAIA,EAAEuH,MAAQ8H,IAClD,GAAKoB,IACEF,IAA4D,IAA7CE,EAAS5K,QAAQsK,QAASI,IAC5CE,EAAS5K,QAAQ7K,KAAMuV,GACpBC,GAAiB,CACpB,IAAIrJ,EAAQsJ,EAAS5K,QAAQsK,QAASK,IACtB,IAAXrJ,GAAesJ,EAAS5K,QAAQ7J,OAAQmL,EAAO,OAK5DuJ,eAhSS,SAgSOlN,EAAOmN,GACrBnN,EAAM8G,QAAU9G,EAAM8G,QAAQQ,OAAQ,SAAAmB,GAAG,OAAsC,IAAlC0E,EAAUR,QAASlE,EAAI1E,QAGtEqJ,qBApSS,SAoSapN,EApSb,GAoSoC,IAAdmN,EAAc,EAAdA,UACxBA,EAAU7V,OAAS,EACtB0I,EAAMgH,gBAAN,eAA6B,IAAIuB,IAAJ,yBAAcvI,EAAMgH,iBAApB,eAAwCmG,MAErEnN,EAAMgH,gBAAkB,IAE5BqG,qBA1SS,SA0SarN,EA1Sb,GA0SoC,IAAdmN,EAAc,EAAdA,UAC7BnN,EAAMgH,gBAAN,eAA6B,IAAIuB,IAAJ,yBAAcvI,EAAMgH,iBAApB,eAAwCmG,OAEvEG,wBA7SS,SA6SgBtN,EA7ShB,GA6SuC,IAAdmN,EAAc,EAAdA,UAChCA,EAAUzK,QAAS,SAAAmJ,GACjB,IAAIlI,EAAQ3D,EAAMgH,gBAAgB2F,QAASd,IAC3B,IAAXlI,GAAe3D,EAAMgH,gBAAgBxO,OAAQmL,EAAO,MAG7D4J,WAnTS,SAmTGvN,EAAO+G,GACjB/G,EAAM+G,OAASA,IAGnBxC,QAAS,CAEPiJ,UAFO,SAEI/I,EAAStB,GAClB,OAAO,IAAI9J,QAAS,SAAEC,EAASC,GAC7B,IAAI6J,EAAQqB,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaK,EAAML,WAClE,GAAKM,EAAQ,OAAO9J,EAAS8J,GAC7BsB,IAAM/H,IAAN,kBAAsBwG,EAAML,SAA5B,kBACG5H,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,cAAe,CAAEwD,EAAI7N,KAAKiO,WACnCzL,EAASqL,KAEjBE,MAAO,SAAAlK,GACN,OAAOpB,EAAQoB,QAKvB8S,cAjBO,SAiBQhJ,EAAStB,GACtB,OAAO,IAAI9J,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAN,kBAAsBwG,EAAML,SAA5B,kBACG5H,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,gBAAiBwD,EAAI7N,KAAKiO,UACnCzL,EAASqL,KAEjBE,MAAO,SAAAlK,GAAG,OAAIpB,EAAQoB,QAI7B+S,WA5BO,SA4BKjJ,EAASkD,GACnB,OAAO,IAAItO,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAN,kBAAsBgL,GAAgB,KACnCzM,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,cAAewD,EAAI7N,KAAK8N,WACjCtL,EAASqL,EAAI7N,KAAK8N,aAE1BC,MAAO,SAAAlK,GAEN,OADAgD,QAAQiG,IAAKjJ,GACNpB,EAAQoB,QAIvBgT,aAzCO,SAyCOlJ,EAAS9B,GAErB,OAAO,IAAItJ,QAAS,SAAEC,EAASC,GAC7BmL,IAAMkJ,KAAN,WACG1S,KAAM,SAAAyJ,GAOL,OANAhH,QAAQiG,IAAKe,GACbhC,EAAOG,SAAW6B,EAAI7N,KAAKiO,SAASjC,SACpC6B,EAAI7N,KAAKiO,SAAS8I,gBAAiB,EACnCpJ,EAAQtD,OAAQ,cAAe,CAAEwD,EAAI7N,KAAKiO,WAE1CN,EAAQtD,OAAQ,oBAAqB,CAAEwD,EAAI7N,KAAKiO,WACzCL,IAAMO,IAAN,kBAAsBN,EAAI7N,KAAKiO,SAASjC,UAAYH,KAE5DzH,KAAM,SAAAyJ,GAGL,OAFAhH,QAAQiG,IAAKe,GACbF,EAAQtD,OAAQ,gBAAiBwB,GAC1BrJ,EAASqJ,KAEjBkC,MAAO,SAAAlK,GAEN,OADAgD,QAAQ5B,MAAOpB,GACRpB,EAAQoB,QAIvBmT,aAjEO,SAiEOrJ,EAAStB,GACrBuB,IAAMO,IAAN,kBAAsB9B,EAAML,UAAYK,GACrCjI,KAAM,SAAAyJ,GAELF,EAAQtD,OAAQ,gBAAiBgC,KAElC0B,MAAO,SAAAlK,GACNgD,QAAQyN,KAAMzQ,MAIpBoT,6BAA8B,SAAEtJ,EAAF,OAAa3B,EAAb,EAAaA,SAAUkL,EAAvB,EAAuBA,cAAvB,OAA4C,IAAI3U,QAAS,SAAEC,EAASC,GAChG,IAAI6J,EAAQqB,EAAQzE,MAAM0G,UAAUrD,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC9D,IAAMM,EAAQ,OAAO7J,EAAQ,IAAIqB,MAAO,+BAExCwI,EAAM4K,cAAgBA,EAAgB,gBAAH,OAAmBvJ,EAAQzE,MAAMM,KAAKhE,KAAtC,YAA8CmI,EAAQzE,MAAMM,KAAK2N,QAAjE,KACnC7K,EAAM8K,cAAgBzJ,EAAQzE,MAAMM,KAAKyD,IAEzCU,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUkL,cAAeA,IAEtEtJ,IAAMkJ,KAAN,kBAAuB9K,EAAvB,WACG5H,KAAM,SAAAyJ,GACL,IAAIwJ,EAAiB1J,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAErE,OADA2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUsL,SAAU,GAAF,sBAAOD,EAAeC,UAAtB,CAAgCzJ,EAAI7N,KAAKuX,MAAMvL,aACvG4B,IAAMO,IAAN,kBAAsBnC,GAAYM,KAE1ClI,KAAM,SAAAyJ,GAAG,OAAIrL,EAASqL,KACtBE,MAAO,SAAAlK,GAAG,OAAIpB,EAAQoB,QAE3B2T,iBA9FO,SA8FW7J,EAAStB,GACzBuB,IAAM/H,IAAN,kBAAsBwG,EAAML,SAA5B,aACG5H,KAAM,SAAAyJ,GACLF,EAAQtD,OAAQ,cAAewD,EAAI7N,KAAK8N,aAEzCC,MAAO,SAAAlK,GACNgD,QAAQiG,IAAKjJ,MAGnB4T,aAvGO,SAuGO9J,EAAS+J,GAErB9J,IAAMsH,OAAN,kBAAyBwC,EAAQ1L,WAC9B5H,KAAM,SAAAyJ,GACLF,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAU0L,EAAQ1L,aAEtD+B,MAAO,SAAAlK,GACNgD,QAAQiG,IAAKjJ,MAKnB8T,iBAnHO,SAmHWhK,EAAS3B,GACb2B,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC5D,OAAO,IAAIzJ,QAAS,SAAEC,EAASC,GAC7BkL,EAAQxD,SAAU,YAAa,CAAE6B,SAAUA,IACxC5H,KAAM,WACL,OAAOwJ,IAAM/H,IAAN,kBAAsBmG,EAAtB,6BAER5H,KAAM,SAAAyJ,GACL,IAAI+J,EAAM/J,EAAI7N,KAAKiO,SAAS+B,QAAQmB,IAAK,SAAAzL,GAAC,OAAIA,EAAEuH,MAChDU,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUgE,QAAS4H,EAAK/E,OAAQhF,EAAI7N,KAAKiO,SAAS4E,SAC/FrQ,EAASoV,KAEV7J,MAAO,SAAAlK,GACNpB,EAAQoB,QAIhBgU,WApIO,SAoIKlK,EAAS0I,GACnB,OAAO,IAAI9T,QAAS,SAAEC,EAASC,GAC7BmL,IAAMkJ,KAAN,uFAAoGT,GACjGjS,KAAM,SAAAyJ,GAGLrL,EAASqL,EAAI7N,KAAK8N,aAEnBC,MAAO,SAAAlK,GAAG,OAAIpB,EAAQoB,QAG7BiU,cA/IO,SA+IQnK,EAASqC,GACtB,OAAO,IAAIzN,QAAS,SAACC,EAASC,GAC5BmL,IAAMkJ,KAAN,UAAsB9G,GACrB5L,KAAM,SAAAyJ,GAAG,OAAIrL,EAASqL,EAAI7N,KAAK8N,aAC/BC,MAAO,SAAAlK,GAAG,OAAIpB,EAAQoB,QAK3BkU,WAxJO,SAwJKpK,EAAStB,GACnB,OAAO,IAAI9J,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAN,mBAAuBwG,EAAMY,MAC1B7I,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,eAAgB,CAAEwD,EAAI7N,KAAKiO,WACpCzL,EAASqL,KAEjBE,MAAO,SAAAlK,GAEN,OADAgD,QAAQ5B,MAAOpB,GACRpB,EAAQoB,QAIvBmU,YArKO,SAqKMrK,EAASkD,GACpB,OAAO,IAAItO,QAAS,SAAEC,EAASC,GAC7BmL,IAAM/H,IAAN,mBAAuBgL,GAAgB,KACpCzM,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,eAAgBwD,EAAI7N,KAAK8N,WAClCtL,EAASqL,EAAI7N,KAAK8N,aAE1BC,MAAO,SAAAlK,GAEN,OADAgD,QAAQiG,IAAKjJ,GACNpB,EAAQoB,QAIvBoU,cAlLO,SAkLQtK,EAASP,GACtB,OAAO,IAAI7K,QAAS,SAAEC,EAASC,GAC7BmL,IAAMkJ,KAAN,WAAwB1J,GAAoB,CAAE5H,KAAM,0BACjDpB,KAAM,SAAAyJ,GAIL,OAHAF,EAAQtD,OAAQ,eAAgB,CAAEwD,EAAI7N,KAAKiO,WAE3CN,EAAQtD,OAAQ,qBAAsB,CAAEwD,EAAI7N,KAAKiO,WAC1CzL,EAASqL,EAAI7N,KAAKiO,YAE1BF,MAAO,SAAAlK,GAEN,OADAgD,QAAQiG,IAAKjJ,GACNpB,EAAQoB,QAIvBqU,cAjMO,SAiMQvK,EAAStB,GACtBuB,IAAMO,IAAN,mBAAuB9B,EAAMY,KAAOZ,GACjCjI,KAAM,SAAAyJ,GACLF,EAAQtD,OAAQ,iBAAkBgC,KAEnC0B,MAAO,SAAAlK,GACNgD,QAAQyN,KAAMzQ,MAGpBsU,iBAAkB,SAAExK,EAAF,OAAayK,EAAb,EAAaA,UAAWC,EAAxB,EAAwBA,OAAxB,OAAsC,IAAI9V,QAAS,SAAEC,EAASC,GAC9E,IAAI2K,EAAUO,EAAQzE,MAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQmL,IAC1D,IAAMhL,EAAU,OAAO3K,EAAQ,IAAIqB,MAAO,qCAE1C8J,IAAMO,IAAN,mBAAuBiK,EAAvB,oBAA4CC,IACzCjU,KAAM,SAAAyJ,GACL,IAAIyK,EAAc,CAAEC,SAAU,eAAK,IAAI9G,IAAJ,yBAAcrE,EAAQkL,YAAYC,UAAlC,CAA4CF,MAAcG,QAASpL,EAAQkL,YAAYE,SACtHA,EAAU,eAAK,IAAI/G,IAAJ,yBAAcrE,EAAQoL,SAAtB,CAA+BH,MAMlD,OALA1K,EAAQtD,OAAQ,iBAAkB,CAAE4C,IAAKmL,EAAWE,YAAaA,EAAaE,QAASA,IACvFpL,EAAQ7B,QAAQK,QAAS,SAAAI,GACvB,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUuM,SAAUG,IAAK,GAAD,sBAAOD,EAASF,UAAhB,CAA0BF,SAE1F7V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAGrB8U,qBAAsB,SAAEhL,EAAF,OAAayK,EAAb,EAAaA,UAAWC,EAAxB,EAAwBA,OAAxB,OAAsC,IAAI9V,QAAS,SAAEC,EAASC,GAClF,IAAI2K,EAAUO,EAAQzE,MAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQmL,IAC1D,IAAMhL,EAAU,OAAO3K,EAAQ,IAAIqB,MAAO,qCAC1C8J,IAAMO,IAAN,mBAAuBiK,EAAvB,wBAAgDC,IAC7CjU,KAAM,SAAAyJ,GACL,OAAOD,IAAM/H,IAAN,mBAAuBuS,EAAvB,0BAERhU,KAAM,SAAAyJ,GAYL,OAXAF,EAAQtD,OAAQ,iBAAkB,CAChC4C,IAAKmL,EACLE,YAAa,CACXE,QAAS3K,EAAI7N,KAAKiO,SAASqK,YAAYE,QACvCD,SAAU1K,EAAI7N,KAAKiO,SAASqK,YAAYC,YAG5CnL,EAAQ7B,QAAQK,QAAS,SAAAI,GACvB,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUuM,SAAUG,IAAK,GAAD,sBAAOD,EAASF,UAAhB,CAA0BF,KAAYG,QAASE,IAAK,GAAD,sBAAOD,EAASD,SAAhB,CAAyBH,SAE5I7V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAGrB+U,uBAAwB,SAAEjL,EAAF,OAAayK,EAAb,EAAaA,UAAWC,EAAxB,EAAwBA,OAAxB,OAAsC,IAAI9V,QAAS,SAAEC,EAASC,GACpF,IAAI2K,EAAUO,EAAQzE,MAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQmL,IAC1D,IAAMhL,EAAU,OAAO3K,EAAQ,IAAIqB,MAAO,qCAC1C8J,IAAMO,IAAN,mBAAuBiK,EAAvB,0BAAkDC,IAC/CjU,KAAM,SAAAyJ,GAUL,OATAF,EAAQtD,OAAQ,iBAAkB,CAAE4C,IAAKmL,EAAWE,YAAazK,EAAI7N,KAAKoN,QAAQkL,cAClFzK,EAAI7N,KAAK6Y,6BAA6BjN,QAAS,SAAAI,GAC7C,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUuM,SAAUE,EAASF,SAAS/H,OAAQ,SAAAuE,GAAE,OAAIA,IAAOsD,IAAUG,QAASE,IAAK,GAAD,sBAAOD,EAASD,SAAhB,CAAyBH,SAE1JxK,EAAI7N,KAAK8Y,mBAAmBlN,QAAS,SAAAI,GACnC,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUwM,QAASE,IAAK,GAAD,sBAAOD,EAASD,SAAhB,CAAyBH,SAExF7V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAGrBkV,oBAAqB,SAAEpL,EAAF,OAAayK,EAAb,EAAaA,UAAWC,EAAxB,EAAwBA,OAAxB,OAAsC,IAAI9V,QAAS,SAAEC,EAASC,GACjF,IAAI2K,EAAUO,EAAQzE,MAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQmL,IAC1D,IAAMhL,EAAU,OAAO3K,EAAQ,IAAIqB,MAAO,qCAC1C8J,IAAMsH,OAAN,mBAA0BkD,EAA1B,uBAAkDC,IAC/CjU,KAAM,SAAAyJ,GAcL,OAbAF,EAAQtD,OAAQ,iBAAkB,CAAE4C,IAAKmL,EAAWI,QAAS3K,EAAI7N,KAAKoN,QAAQoL,QAASD,SAAU1K,EAAI7N,KAAKoN,QAAQmL,SAAUD,YAAazK,EAAI7N,KAAKoN,QAAQkL,cAC1JzK,EAAI7N,KAAKgZ,sBAAsBpN,QAAS,SAAAI,GACtC,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUwM,QAASC,EAASD,QAAQhI,OAAQ,SAAAuE,GAAE,OAAIA,IAAOsD,IAAUE,SAAUE,EAASF,SAAS/H,OAAQ,SAAAuE,GAAE,OAAIA,IAAOsD,QAEnKxK,EAAI7N,KAAKiZ,uBAAuBrN,QAAS,SAAAI,GACvC,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUuM,SAAUE,EAASF,SAAS/H,OAAQ,SAAAuE,GAAE,OAAIA,IAAOsD,QAE1GxK,EAAI7N,KAAKkZ,sBAAsBtN,QAAS,SAAAI,GACtC,IAAIyM,EAAW9K,EAAQzE,MAAMqC,QAAQgB,KAAM,SAAA3K,GAAC,OAAIA,EAAEoK,WAAaA,IAC/D2B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUwM,QAASC,EAASD,QAAQhI,OAAQ,SAAAuE,GAAE,OAAIA,IAAOsD,QAEjG7V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAGrBsV,mBAAoB,SAAExL,EAAF,OAAayK,EAAb,EAAaA,UAAWpM,EAAxB,EAAwBA,SAAxB,OAAwC,IAAIzJ,QAAS,SAAEC,EAASC,GAClF,IAAI2K,EAAUO,EAAQzE,MAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQmL,IAC1D,IAAMhL,EAAU,OAAO3K,EAAQ,IAAIqB,MAAO,qCAE1C8J,IAAMO,IAAN,mBAAuBiK,EAAvB,sBAA8CpM,IAC3C5H,KAAM,SAAAyJ,GAGL,OAFAF,EAAQtD,OAAQ,iBAAkB,CAAE4C,IAAKmL,EAAW7M,QAASsC,EAAI7N,KAAKoN,QAAQ7B,UAC9EoC,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUwM,QAAS3K,EAAI7N,KAAK6L,OAAO2M,QAASD,SAAU1K,EAAI7N,KAAK6L,OAAO0M,WAC5G/V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAGrBuV,wBAAyB,SAAEzL,EAAF,OAAayK,EAAb,EAAaA,UAAWpM,EAAxB,EAAwBA,SAAxB,OAAwC,IAAIzJ,QAAS,SAAEC,EAASC,GACvF,IAAI2K,EAAUO,EAAQzE,MAAMuC,SAASc,KAAM,SAAAvK,GAAC,OAAIA,EAAEiL,MAAQmL,IAC1D,IAAMhL,EAAU,OAAO3K,EAAQ,IAAIqB,MAAO,qCAE1C8J,IAAMsH,OAAN,mBAA0BkD,EAA1B,yBAAoDpM,IACjD5H,KAAM,SAAAyJ,GAGL,OAFAF,EAAQtD,OAAQ,iBAAkB,CAAE4C,IAAKmL,EAAW7M,QAASsC,EAAI7N,KAAKoN,QAAQ7B,UAC9EoC,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUA,EAAUwM,QAAS3K,EAAI7N,KAAK6L,OAAO2M,QAASD,SAAU1K,EAAI7N,KAAK6L,OAAO0M,WAC5G/V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAGrBwV,cAAe,SAAE1L,EAAStB,GAAX,OAAsB,IAAI9J,QAAS,SAAEC,EAASC,GAC3DmL,IAAMsH,OAAN,mBAA0B7I,EAAMY,MAC7B7I,KAAM,SAAAyJ,GACLF,EAAQtD,OAAQ,iBAAkB,CAAE4C,IAAKZ,EAAMY,MADnC,2BAEZ,YAAoBY,EAAI7N,KAAKsZ,gBAA7B,+CAA+C,KAArCzN,EAAqC,QAC7C8B,EAAQtD,OAAQ,gBAAiB,CAAE2B,SAAUH,EAAOG,SAAUwM,QAAS3M,EAAO2M,QAASD,SAAU1M,EAAO0M,YAH9F,kFAKZ,OAAO/V,MAERuL,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,QAKrB0V,YApVO,SAoVO5L,GACZ,OAAO,IAAIpL,QAAQ,SAAEC,EAASC,GAI5B,IAHA,IAAIJ,EAAW,GACXmX,GAAY,IAAI7O,GAAiBC,QAE7BtK,EAAI,EAAGA,EAAIkZ,EAAUhZ,OAAQF,IAEnC+B,EAAS3B,KACPkN,IAAM,CACJ6L,OAAQ,MACRC,IAAK,sBAAF,OAAwBF,EAAUlZ,IACrCqZ,QAAS9K,SAAS+K,SAAW,KAAO/K,SAASgL,QAKnDtX,QAAQ6C,IAAI/C,GACT+B,KAAM,SAAAyJ,GACL,IAAIuC,EAAU,GASd,OAPAvC,EAAIjC,QAAS,SAAA9F,GACX,IAAI9F,EAAO8F,EAAE9F,KACbA,EAAKyU,SAAW3O,EAAEpC,QAAQoW,YAAY5I,MAAM,KAAKjK,OAAO,GAAG8S,MAC3D3J,EAAQ1P,KAAKV,KAGf2N,EAAQtD,OAAQ,cAAe+F,GACxB5N,EAAU4N,QAMzB4J,aArXO,SAqXOrM,EAAStB,GACrB,IAAIsI,EAAYsF,KAAKC,MAAMnT,OAAOkD,aAAakQ,QAAQ,aAAe9N,EAAMY,MAK5E,OAHkB,OAAd0H,GACFhH,EAAQtD,OAAQ,iBAAkB,CAAEsK,IAE/BA,GAETyF,cA7XO,SA6XQzM,GACb,IAAI0M,EAAeJ,KAAKC,MAAMnT,OAAOkD,aAAakQ,QAAQ,iBAE1D,GAAqB,OAAjBE,EACF,OAAO,KAET,IAAIhK,EAAa,GASjB,OARAgK,EAAazO,QAAS,SAAAmJ,GACpB,IAAIJ,EAAYsF,KAAKC,MAAMnT,OAAOkD,aAAakQ,QAAQ,aAAepF,IACrD,MAAbJ,GACFtE,EAAWlE,QAAQwI,KAGvBhH,EAAQtD,OAAQ,iBAAkBgG,GAE3BA,GAETiK,gBA9YO,SA8YU3M,EAASgH,GACxB,IAAII,EAAKvB,MAEL+G,EAAO5F,GAAwB,CAAEnP,KAAM,2BAG3C+U,EAAKtN,IAAM8H,EAENwF,EAAK1Z,eAAe,iBACvB0Z,EAAKtO,YAAc,uCAEhBsO,EAAK1Z,eAAe,UACvB0Z,EAAKrO,KAAO,IAETqO,EAAK1Z,eAAe,YACvB0Z,EAAKC,OAAS,IAEXD,EAAK1Z,eAAe,YACvB0Z,EAAKE,OAAS,IAIhBF,EAAKjJ,MAAQ3D,EAAQzE,MAAMM,KAAKyD,IAChCsN,EAAKxJ,SAAU,EACfwJ,EAAK/B,QAAU,CAAE7K,EAAQzE,MAAMM,KAAKyD,KACpCsN,EAAKhC,SAAW,CAAE5K,EAAQzE,MAAMM,KAAKyD,KAErCsN,EAAKG,mBAAoB,EACzBH,EAAKzK,SAAW,GAEhB/I,OAAOkD,aAAaC,QAClB,aAAe6K,EACfkF,KAAKU,UAAUJ,IAGjB5M,EAAQtD,OAAQ,iBAAkB,CAAEkQ,IAEpC,IAAIF,EAAeJ,KAAKC,MAAMnT,OAAOkD,aAAakQ,QAAQ,iBAY1D,OAVqB,OAAjBE,IACFA,EAAe,IAEjBA,EAAalO,QAAQ4I,GAErBhO,OAAOkD,aAAaC,QAClB,eACA+P,KAAKU,UAAUN,IAGVE,GAETK,gBAjcO,SAicUjN,EAAStB,GACxB,IAAIC,EAAQ2N,KAAKC,MAAMnT,OAAOkD,aAAakQ,QAAQ,aAAe9N,EAAMY,MAExEtM,OAAO6L,KAAMH,GAAQT,QAAS,SAAArF,GAC5B+F,EAAO/F,GAAQ8F,EAAO9F,KAExBQ,OAAOkD,aAAaC,QAClB,aAAemC,EAAMY,IACrBgN,KAAKU,UAAUrO,IAGjBqB,EAAQtD,OAAQ,mBAAoBgC,IAEtCwO,gBA9cO,SA8cUlN,EAAStB,GACxBtF,OAAOkD,aAAa6Q,WAAW,aAAezO,EAAMY,KAEpDU,EAAQtD,OAAQ,mBAAoBgC,GAEpC,IAAIgO,EAAeJ,KAAKC,MAAMnT,OAAOkD,aAAakQ,QAAQ,iBAE1D,GAAqB,OAAjBE,EACJ,CACE,IAAIU,EAAaV,EAAaxE,QAAQxJ,EAAMY,MACxB,IAAhB8N,IAEFV,EAAa3Y,OAAOqZ,EAAY,GAEhChU,OAAOkD,aAAaC,QAClB,eACA+P,KAAKU,UAAUN,OAKjBW,mBAneC,mEAmemBrN,EAAS6M,GAne5B,0FAoeIla,EAAI,EApeR,YAoeWA,EAAIka,EAAOha,QApetB,qBAseAga,EAAOla,GAAG2a,KAteV,uBAweGC,EAAW,QAAUV,EAAOla,GAAG2a,KAAK3M,SAxevC,SAyeiBD,EAAamM,EAAOla,GAAG2a,MAzexC,OAyeG9L,EAzeH,OA0eDxB,EAAQtD,OAAQ,YAAa,CAAC0K,GAAImG,EAAU/L,MAAOA,IA1elD,OAoe8B7O,IApe9B,oHAgfP6a,aAAc,SAAExN,EAAStB,GAAX,OAAsB,IAAI9J,QAAS,SAAEC,EAASC,UAGnDmL,IAAMwN,SAASC,QAAQC,OAAQ,iBAEtC1N,IAAMkJ,KAAN,UAAuB,CAAErN,KAAM,gBAAiB8R,aAAc,mBAAoBC,aAAc,UAAWC,QAAQ,IAChHrX,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,qBAAsBwD,EAAI7N,KAAKiO,UACxCzL,EAASqL,EAAI7N,KAAKiO,YAE1BF,MAAO,SAAAlK,GAEN,OADAgD,QAAQyN,KAAMzQ,GACPpB,EAAQoB,KAGnB+J,IAAMwN,SAASC,QAAQC,OAAQ,iBAAoB3N,EAAQzE,MAAMiG,SAInEuM,QAngBO,SAmgBE/N,EAAS+J,GAChB,OAAO,IAAInV,QAAS,SAAEC,EAASC,GAC7B,IAAI6J,EAAQqB,EAAQzE,MAAMsC,MAAMe,KAAM,SAAAS,GAAC,OAAIA,EAAEC,MAAQyK,EAAQzK,MAC7D,GAAKX,EAAQ,OAAO9J,EAAS8J,GAC7BsB,IAAM/H,IAAN,mBAAuB6R,EAAQzK,MAC5B7I,KAAM,SAAAyJ,GAGL,OAFKF,EAAQzE,MAAMM,KAAKyD,MAAQyK,EAAQzK,MAAMY,EAAI7N,KAAKiO,SAASkJ,SAAW,mBAC3ExJ,EAAQtD,OAAQ,WAAYwD,EAAI7N,KAAKiO,UAC9BzL,EAASqL,EAAI7N,KAAKiO,YAE1BF,MAAO,SAAAlK,GACN,OAAOpB,EAAQoB,QAKvB8X,mBAAoB,SAAEhO,EAAS+J,GAAX,OAAwB,IAAInV,QAAS,SAAEC,EAASC,GAClEoE,QAAQiG,IAAI4K,GACZ9J,IAAMO,IAAN,WAAuBuJ,GACpBtT,KAAM,SAAAyJ,GAEL,OADAF,EAAQtD,OAAQ,cAAeqN,GACxBlV,EAASqL,KAEjBE,MAAO,SAAAlK,GAAG,OAAIpB,EAAQoB,QAI3B+X,MA9hBO,SA8hBAjO,EAAS+J,GACd,OAAO,IAAInV,QAAS,SAAEC,EAASC,GAC7BmL,IAAMkJ,KAAM,iBAAkB,CAAE+E,MAAOnE,EAAQmE,MAAOC,SAAUpE,EAAQoE,WACrE1X,KAAM,SAAAyJ,GAML,OALAF,EAAQtD,OAAQ,YAAawD,EAAI7N,KAAKiO,SAASkB,OAC/CxB,EAAQtD,OAAQ,WAAYwD,EAAI7N,KAAKiO,UAErChE,aAAaC,QAAS,QAAS2D,EAAI7N,KAAKiO,SAASkB,OACjDvB,IAAMwN,SAASC,QAAQC,OAAQ,iBAAoBzN,EAAI7N,KAAKiO,SAASkB,MAC9D3M,EAASqL,EAAI7N,KAAKiO,YAE1BF,MAAO,SAAAlK,GACN,OAAOpB,EAAQoB,QAIvBwF,OA9iBO,SA8iBCsE,EAAS+J,GACf/J,EAAQtD,OAAQ,aAChBJ,aAAa6Q,WAAY,SACzBlN,IAAMwN,SAASC,QAAQC,OAAQ,iBAAoB,KAGvDva,QAAS,CACPgb,MAAOzQ,KCvtCXH,aAAIC,IAAK4Q,QAET,IAAIC,EAAW,IAAID,OAAQ,CACzBE,qBAAsB,YACtBC,OAAQ,CAAE,CACNtT,KAAM,IACNrD,KAAM,YACNqE,UAAW,kBAAO,iDAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,sBACNrD,KAAM,QACNqE,UAAW,kBAAO,kDAEpB,CACEhB,KAAM,YACNrD,KAAM,WACNqE,UAAW,kBAAO,kDAEpB,CACEhB,KAAM,WACNrD,KAAM,UACNqE,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,qBACNgB,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,GACtB/E,SAAU,CAAE,CACV9R,KAAM,kBACNqD,KAAM,GACNgB,UAAW,kBAAO,6GACjB,CACDrE,KAAM,cACNqD,KAAM,OACNgB,UAAW,kBAAO,uFACjB,CACDrE,KAAM,iBACNqD,KAAM,UACNgB,UAAW,kBAAO,uFACjB,CACDrE,KAAM,iBACNqD,KAAM,UACNgB,UAAW,kBAAO,yFAGtB,CACEhB,KAAM,YACNrD,KAAM,WACNqE,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,uBACNrD,KAAM,mBACNqE,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,oBACNrD,KAAM,SACNqE,UAAW,kBAAO,sFAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,SACNrD,KAAM,QACNqE,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,WACNrD,KAAM,UACNqE,UAAW,kBAAO,iDAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,WACNrD,KAAM,UACNqE,UAAW,kBAAO,iDAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,YACNrD,KAAM,WACNqE,UAAW,kBAAO,iDAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,SACNrD,KAAM,GACNqE,UAAW,kBAAO,iDAClBuS,KAAM,CAAEC,cAAc,GACtB/E,SAAU,CAAE,CACV9R,KAAM,cACNqD,KAAM,GACNgB,UAAW,kBAAO,uFACjB,CACDrE,KAAM,gBACNqD,KAAM,UACNgB,UAAW,kBAAO,uFACjB,CACDrE,KAAM,iBACNqD,KAAM,WACNgB,UAAW,kBAAO,yFAGtB,CACEhB,KAAM,cACNrD,KAAM,aACNqE,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,IAExB,CACExT,KAAM,2BACNrD,KAAM,qBACNqE,UAAW,kBAAO,4GAClBuS,KAAM,CAAEC,cAAc,OAa5BJ,EAASK,WAAY,SAAEC,EAAIC,EAAMC,GAC/B,GAAKF,EAAGH,KAAKC,eACmB,IAAzBE,EAAGH,KAAKC,eAAgD,IAAvB3M,EAAMxG,MAAMyG,OAChD,OAAO8M,EAAM,CAAE5T,KAAM,UAAoB,OAAP0T,EAAc,IAAMxV,OAAO2V,KAAMH,EAAG1T,MAAS,MAEnF4T,MAGaR,Q,YC3IbU,eAAS,GAAD,OAAIC,GAAJ,qBAA6C,CACnDC,MADmD,WAEjDhW,QAAQiG,IACN,uGAIJgQ,WAPmD,WAQjDjW,QAAQiG,IAAI,wCAEdiQ,OAVmD,WAWjDlW,QAAQiG,IAAI,6CAEdkQ,YAbmD,WAcjDnW,QAAQiG,IAAI,gCAEdvC,QAhBmD,WAiBjD1D,QAAQiG,IAAI,8CAEdmQ,QAnBmD,WAoBjDpW,QAAQiG,IAAI,kEAEd7H,MAtBmD,SAsB5CA,GACL4B,QAAQ5B,MAAM,4CAA6CA,M,2FC5B7D,EAAS,WAAa,IAAIiC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,MAAM,CAAC,MAAQN,EAAIgW,KAAK,iBAAmBhW,EAAIiW,UAAUC,SAAS,CAAC,UAAYlW,EAAIyB,GAAGzB,EAAImW,eAAe7U,GAAG,CAAC,KAAOtB,EAAIoW,aAAa,QAAU,SAAS7U,GAAQ,OAAIA,EAAOnF,KAAKuS,QAAQ,QAAQ3O,EAAIqW,GAAG9U,EAAO+U,QAAQ,QAAQ,GAAG/U,EAAOlC,IAAI,SAAkB,KAAcW,EAAIuW,cAAchV,QACrY,EAAkB,GCGtB,G,UAAA,CACEjD,KAAM,eACN6G,MAAO,CACLqR,KAAM,CAAV,kCACIP,SAAU,CAAd,yBACID,KAAM,CAAV,8CACIS,QAAS,CAAb,yBAEEC,SAAU,GACV5d,KATF,WAUI,MAAO,CACL6d,UAAW,OAGf7T,QAAS,CACPqT,WADJ,WAEM,OAAI,KAAV,WACA,gEACalW,KAAKuW,MAEdJ,aANJ,SAMA,GACM,IAAN,kDACM,GAAN,KAAU,EACV,oCACU,KAAV,mBAGMnW,KAAK0W,UAAYC,EACjB3W,KAAK4W,MAAM,SAAjB,iCAEIN,cAhBJ,SAgBA,GACM,IAAN,kDACM,GAAN,KAAU,EACV,oCACU,KAAV,kBAIMrb,EAAEuB,OAAOqa,OACT7W,KAAK0W,UAAYC,GAJf1b,EAAEuB,OAAOqa,WCvCqU,ICQlV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCZf7S,aAAI8S,OAAOC,eAAgB,EAM3B/S,aAAIC,IAAK+S,IAAS,CAChBC,MAAO,CACLC,QAASC,IAAOC,KAAKC,QACrBC,UAAWH,IAAOC,KAAKG,SACvBC,OAAQL,IAAOM,OAAOjO,QAK1BxF,aAAIC,IAAKyT,OAAY,CAAEC,OAAQ,OAG/B,IAAIlV,GAASK,aAAakQ,QAAS,UAEjCzK,EAAMxG,MAAMU,OADTA,IAGJ,UAAwB7C,OAAO8H,SAASC,OAAxC,QAIDlB,IAAMwN,SAASzB,QAAUjK,EAAMxG,MAAMU,OAGrC,IAAIuF,GAAQlF,aAAakQ,QAAS,SAGlCvM,IAAM/H,IAAK6J,EAAMxG,MAAMU,QACpBxF,KAAM,SAAA2a,GAEL,OADArP,EAAMxG,MAAMQ,eAAiBqV,EAAS/e,KAC/B4N,IAAM/H,IAAN,UAAc6J,EAAMxG,MAAMU,OAA1B,yBAAyD,CAAEyR,QAAS,CAAE2D,cAAe7P,QAE7F/K,KAAM,SAAA2a,GAEa,OAAbA,GAMoB,MAApBA,EAASE,QAMdrR,IAAMwN,SAASC,QAAQC,OAAQ,iBAAoBnM,GAEnDO,EAAMxG,MAAMyG,QAAS,EACrBD,EAAMxG,MAAMM,KAAOuV,EAAS/e,KAAKiO,SACjCyB,EAAMxG,MAAMiG,MAAQA,GAEpB+P,MAhBEA,OAkBHnR,MAAO,SAAAlK,GACNqb,OAIJ/T,aAAIvK,UAAUue,MAAQvR,IAGtB7G,OAAOqY,IAAM,IAAIjU,aAIjB,IAAIkU,GAAc,IAAIC,IACtBnU,aAAIoU,MAAO,CACTvV,QAAS,CACPwV,iBAAkB,SAAAC,GAAG,OAAIJ,GAAYK,IAAKD,OAK9CtU,aAAItB,UAAW,gBAAiB8V,GAGhC,IAAIT,GAAU,WACZ,IAAI/T,aAAK,CACPyU,OAAQ5D,EACR6D,MAAOnQ,EACPoQ,OAAQ,SAAAC,GAAC,OAAIA,EAAGC,MACdC,OAAQ,U,oCC9Fd,yBAAkf,EAAG,G,kFCArf,yBAAwiB,EAAG","file":"js/app.523cb5a7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0af48a\":\"d895e31a\",\"chunk-3fa38642\":\"046baa69\",\"chunk-28735d43\":\"e33376d7\",\"chunk-2d0b9d35\":\"cf4ee9f7\",\"chunk-2d0d6d35\":\"8cfe7d31\",\"chunk-2d0d7de8\":\"a6bd240c\",\"chunk-2d0daf2f\":\"08900832\",\"chunk-2d2086b7\":\"c4445435\",\"chunk-2d217357\":\"ca23d057\",\"chunk-b149a800\":\"adc3d48d\",\"chunk-b2bc435c\":\"c25ef48c\",\"chunk-c45573d2\":\"c87dddb0\",\"chunk-11dea852\":\"d55d8f0b\",\"chunk-26a30cee\":\"11fd47c8\",\"chunk-273d08e0\":\"0bdb8f6b\",\"chunk-2d0abfdc\":\"30180224\",\"chunk-2d0b3630\":\"d23c5f7a\",\"chunk-2d2138f6\":\"ba94bef2\",\"chunk-31b22792\":\"c68d65d4\",\"chunk-40322304\":\"f79d8f0b\",\"chunk-4ed6d37c\":\"5a322536\",\"chunk-ba06ea44\":\"6e65a572\",\"chunk-39bd985f\":\"62df773b\",\"chunk-6e5b3d4a\":\"5b2ff6cd\",\"chunk-e15986fe\":\"5c8e2290\",\"chunk-2d2217c7\":\"2652bd95\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-b149a800\":1,\"chunk-11dea852\":1,\"chunk-26a30cee\":1,\"chunk-273d08e0\":1,\"chunk-31b22792\":1,\"chunk-40322304\":1,\"chunk-4ed6d37c\":1,\"chunk-ba06ea44\":1,\"chunk-39bd985f\":1,\"chunk-6e5b3d4a\":1,\"chunk-e15986fe\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0af48a\":\"31d6cfe0\",\"chunk-3fa38642\":\"31d6cfe0\",\"chunk-28735d43\":\"31d6cfe0\",\"chunk-2d0b9d35\":\"31d6cfe0\",\"chunk-2d0d6d35\":\"31d6cfe0\",\"chunk-2d0d7de8\":\"31d6cfe0\",\"chunk-2d0daf2f\":\"31d6cfe0\",\"chunk-2d2086b7\":\"31d6cfe0\",\"chunk-2d217357\":\"31d6cfe0\",\"chunk-b149a800\":\"8250f7ae\",\"chunk-b2bc435c\":\"31d6cfe0\",\"chunk-c45573d2\":\"31d6cfe0\",\"chunk-11dea852\":\"6c2964e7\",\"chunk-26a30cee\":\"a0aa1ab8\",\"chunk-273d08e0\":\"35b11dc3\",\"chunk-2d0abfdc\":\"31d6cfe0\",\"chunk-2d0b3630\":\"31d6cfe0\",\"chunk-2d2138f6\":\"31d6cfe0\",\"chunk-31b22792\":\"c71cff4e\",\"chunk-40322304\":\"46ced505\",\"chunk-4ed6d37c\":\"0848e5c5\",\"chunk-ba06ea44\":\"43984537\",\"chunk-39bd985f\":\"4a9e54b2\",\"chunk-6e5b3d4a\":\"d332c570\",\"chunk-e15986fe\":\"a7441b03\",\"chunk-2d2217c7\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":_vm.dark}},[_c('v-navigation-drawer',{staticClass:\"elevation-5\",attrs:{\"floating\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn _c('v-toolbar',{class:(\"elevation-\" + (hover ? 20 : 0) + \" \" + (_vm.dark ? \"royal-bg\" : \"light-bg\")),attrs:{\"flat\":\"\",\"prominent\":\"\",\"dark\":\"\",\"xxxstyle\":\"position: absolute; bottom:0\"}},[_c('div',{staticClass:\"text-uppercase caption ml-0\"},[_c('a',{staticStyle:{\"color\":\"white\",\"text-decoration\":\"none\"},attrs:{\"href\":\"https://speckle.works\",\"target\":\"_blank\"}},[_c('b',[_vm._v(\"Speckle\")]),_vm._v(\",\\n            \"),_c('span',{staticClass:\"font-weight-light caption\"},[_vm._v(\"the open source data platform for AEC.\")])])])])}}])}),_c('nav-drawer')],1),_c('v-toolbar',{attrs:{\"app\":\"\",\"flat\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',{staticClass:\"text-uppercase font-weight-light\"},[_vm._v(_vm._s(_vm.$route.name))]),(_vm.$route.path.includes(\"view\"))?_c('div',{staticClass:\"mt-1\"},[_c('v-btn',{attrs:{\"small\":\"\",\"round\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleControlsViewer($event)}}},[_vm._v(_vm._s(_vm.$store.state.viewerControls ? \"close\" :\"show\")+\" controls\")])],1):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"\\n      Logout\\n    \")]),_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleDark()}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"wb_sunny\")])],1)],1),_c('v-content',[_c('keep-alive',{attrs:{\"exclude\":\"StreamDetailView\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$store.state.isAuth)?_c('v-list',{staticClass:\"pa-0\",attrs:{\"two-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"home\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Home\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Everything at a glance.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/streams\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"import_export\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Streams\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Create and manage your streams.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/projects\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"business\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Projects\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Group your data and share it with others.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/trash\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"delete_outline\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Archive\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"The good old recycle bin.\")])],1)],1),(_vm.$store.state.user.role===\"admin\")?_c('v-list-tile',{attrs:{\"to\":\"/admin\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"settings\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Admin\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Server administration\")])],1)],1):_vm._e(),_c('v-divider',{staticClass:\"ma-3\"}),_c('v-list-tile',{attrs:{\"to\":\"/view\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"360\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Viewer\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"View Things! In Dimensions! With 3D!\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/processors\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"code\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Processor\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Stream processing\")])],1)],1),_c('v-divider',{staticClass:\"ma-3\"})],1):_vm._e(),(_vm.$store.state.isAuth)?_c('v-list',[_c('v-list-tile',{attrs:{\"to\":\"/profile\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Profile\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/plugins\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"category\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Plugins\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/feedback\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"feedback\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Feedback\")])],1)],1),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"developer_board\")])],1),_c('v-list-tile-content',[_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"You're connected at \"+_vm._s(_vm.$store.state.serverManifest.serverName)),_c('br'),_vm._v(_vm._s(_vm.$store.state.server))])],1)],1)],1):_c('v-list',{attrs:{\"three-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/login\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Login\")]),_c('v-list-tile-sub-title',[_vm._v(\"If you already have an account, login here!\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/register\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Register\")]),_c('v-list-tile-sub-title',[_vm._v(\"If you don't have an account, create one here!\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-list v-if='$store.state.isAuth' two-line class='pa-0'>\r\n      <v-list-tile to='/'>\r\n        <v-list-tile-action>\r\n          <v-icon>home</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Home</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Everything at a glance.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/streams'>\r\n        <v-list-tile-action>\r\n          <v-icon>import_export</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Streams</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Create and manage your streams.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/projects'>\r\n        <v-list-tile-action>\r\n          <v-icon>business</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Projects</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Group your data and share it with others.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/trash'>\r\n        <v-list-tile-action>\r\n          <v-icon>delete_outline</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Archive</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>The good old recycle bin.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile v-if='$store.state.user.role===\"admin\"' to='/admin'>\r\n        <v-list-tile-action>\r\n          <v-icon>settings</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Admin</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Server administration</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n      <v-list-tile to='/view'>\r\n        <v-list-tile-action>\r\n          <v-icon>360</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Viewer</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>View Things! In Dimensions! With 3D!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/processors'>\r\n        <v-list-tile-action>\r\n          <v-icon>code</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Processor</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Stream processing</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n    </v-list>\r\n    <v-list v-if='$store.state.isAuth'>\r\n      <v-list-tile to='/profile'>\r\n        <v-list-tile-action>\r\n          <v-icon>face</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Profile</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/plugins'>\r\n        <v-list-tile-action>\r\n          <v-icon>category</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Plugins</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/feedback'>\r\n        <v-list-tile-action>\r\n          <v-icon>feedback</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Feedback</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile>\r\n        <v-list-tile-action>\r\n          <v-icon>developer_board</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>You're connected at {{$store.state.serverManifest.serverName}}<br>{{$store.state.server}}</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n    <v-list v-else three-line>\r\n      <v-list-tile to='/login'>\r\n        <v-list-tile-action>\r\n          <v-icon>face</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Login</v-list-tile-title>\r\n          <v-list-tile-sub-title>If you already have an account, login here!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/register'>\r\n        <v-list-tile-action>\r\n          <v-icon>add</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Register</v-list-tile-title>\r\n          <v-list-tile-sub-title>If you don't have an account, create one here!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SiteNavigation'\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavDrawer.vue?vue&type=template&id=f80dafe8&\"\nimport script from \"./NavDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavDrawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app :dark='dark'>\r\n    <v-navigation-drawer floating app class='elevation-5' v-model='drawer'>\r\n      <v-hover>\r\n        <v-toolbar slot-scope=\"{ hover }\" flat prominent :class='`elevation-${hover ? 20 : 0} ${dark ? \"royal-bg\" : \"light-bg\" }`' dark xxxstyle='position: absolute; bottom:0'>\r\n          <div class='text-uppercase caption ml-0'>\r\n            <a href='https://speckle.works' target=\"_blank\" style=\"color:white; text-decoration: none;\"><b>Speckle</b>,\r\n              <span class='font-weight-light caption'>the open source data platform for AEC.</span></a>\r\n          </div>\r\n        </v-toolbar>\r\n      </v-hover>\r\n      <nav-drawer></nav-drawer>\r\n    </v-navigation-drawer>\r\n    <v-toolbar app flat class=''>\r\n      <v-toolbar-side-icon @click.stop=\"drawer = !drawer\"></v-toolbar-side-icon>\r\n      <v-toolbar-title class='text-uppercase font-weight-light'>{{$route.name}}</v-toolbar-title>\r\n      <div v-if='$route.path.includes(\"view\")' class='mt-1'>\r\n        <v-btn small round flat @click.native='toggleControlsViewer'>{{$store.state.viewerControls ? \"close\" :\"show\"}} controls</v-btn>\r\n      </div>\r\n      <v-spacer></v-spacer>\r\n      <v-btn small flat @click.native='logout()'>\r\n        Logout\r\n      </v-btn>\r\n      <v-btn flat small icon @click.native='toggleDark()'>\r\n        <v-icon small>wb_sunny</v-icon>\r\n      </v-btn>\r\n    </v-toolbar>\r\n    <v-content>\r\n      <!-- <v-container fluid> -->\r\n      <keep-alive exclude='StreamDetailView'>\r\n        <router-view></router-view>\r\n      </keep-alive>\r\n      <!-- </v-container> -->\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport NavDrawer from './components/NavDrawer.vue'\r\n\r\nexport default {\r\n  name: 'MainApp',\r\n  components: {\r\n    NavDrawer\r\n  },\r\n  data: _ => ( {\r\n    drawer: true,\r\n    dark: false,\r\n    viewerControls: true\r\n  } ),\r\n  methods: {\r\n    toggleDark( ) {\r\n      this.dark = !this.dark\r\n      localStorage.setItem( 'dark', this.dark )\r\n    },\r\n    logout( ) {\r\n      this.$store.dispatch( 'logout' )\r\n      this.$router.push( '/login' )\r\n    },\r\n    toggleControlsViewer( ) {\r\n      this.$store.commit( 'TOGGLE_VIEWER_CONTROLS' )\r\n    }\r\n  },\r\n  created( ) {\r\n    if ( this.$store.state.isAuth ) {\r\n      this.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\r\n      this.$store.dispatch( 'getProjects' )\r\n      this.$store.dispatch( 'getProcessors' )\r\n      this.$store.dispatch( 'createClient' )\r\n    }\r\n    if ( localStorage.getItem( 'dark' ) === 'true' ) {\r\n      this.dark = true\r\n      this.$store.commit( 'SET_DARK', true )\r\n    }\r\n\r\n    this.$store.dispatch( 'loadLambdas' )\r\n  },\r\n  updated( ) {\r\n    let overlay = document.getElementsByClassName( \"md-overlay\" )[ 0 ]\r\n    if ( !overlay ) return\r\n    overlay.onclick = ( function ( ) {\r\n      this.showSidebar = false\r\n    } ).bind( this )\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n.super-bg {\r\n  background: #448aff;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #448aff, #396afc);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #448aff, #396afc);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.other-bg {\r\n  background: #0052D4;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.royal-bg {\r\n  background: #536976;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #292E49, #536976);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #292E49, #536976);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.light-bg {\r\n  background: #56CCF2;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity .5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.no-scroll {\r\n  overflow: hidden !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=127375b3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function LambdaSettings() {\r\n  this.Lambdas = [ \"receiver\", \"filter\", \"sender\", \"restAPI\", \"downloadobjects\", \"uploadobjects\", \"arupCompute\", \"proximity\"]\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Axios from 'axios'\r\nimport * as Msal from 'msal'\r\n\r\nimport uniq from 'lodash.uniq'\r\nimport uuid from 'uuid/v4'\r\nimport flatten from 'flat'\r\n\r\nimport { LambdaSettings } from './lambda/_lambdaSettings.js'\r\n\r\nVue.use( Vuex )\r\n\r\nfunction removeArraysRecursive( foo ) {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      //bar[ key + ' (array)' ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = removeArraysRecursive( foo[ key ] )\r\n    } else {\r\n      bar[ key ] = foo[ key ]\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\nfunction getStructuralArrPropKeys( foo ) {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      bar[ key ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = getStructuralArrPropKeys( foo[ key ] )\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\n\r\n// the admin module is a seperate store that includes all the users / streams / projects on the system\r\n// its ADD mutations are unique, and are called by get*Admin actions contained in this module\r\n// but its UPDATE and DELETE mutations are the same as those in the rootStore, so rootStore actions update \r\n// or delete state for projects, streams, and the current user across both stores\r\nconst adminStore = {\r\n  state: {\r\n    streams: [],\r\n    users: [],\r\n    projects : []\r\n  },\r\n  mutations: {\r\n    //streams\r\n    ADD_STREAMS_ADMIN( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          // defensive code (vue 3.0 we're off to typescript baby, can't wait)\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_STREAM( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( !found ) return console.error( 'User not found; aborting update.' )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_STREAM( state, stream ) {\r\n      let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index > -1 ) {\r\n        state.streams.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    },\r\n    //users\r\n    ADD_USERS_ADMIN( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_USER( state, user ) {\r\n      let found = null\r\n      found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n    //projects\r\n    ADD_PROJECTS_ADMIN( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      if (null == found) return \r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n  },\r\n  getters: {\r\n  },\r\n  actions: {\r\n    //streams\r\n    getStreamsAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'streams/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS_ADMIN', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    \r\n    //users\r\n    getUsersAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'accounts/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_USERS_ADMIN', res.data.resource )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateUserAdmin (context, user) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.put(\"accounts/\" + user._id, user)\r\n        .then(res => {\r\n            return resolve(context.commit( 'UPDATE_USER', user))\r\n        })\r\n        .catch (err => {\r\n          return reject (err)\r\n        })\r\n      })\r\n\r\n    },\r\n    //projects\r\n    getProjectsAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'projects/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS_ADMIN', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n  }\r\n}\r\n\r\nasync function getTokenMSAL ( { clientId, authority, loginRequest } ) {\r\n  // TODO: THIS CANNOT BE CALLED MULTIPLE TIMES!!!\r\n  // DEPENDS ON LOCAL STORAGE TO PROPERLY OBTAIN CLIENTID\r\n  var userAgent = new Msal.UserAgentApplication({\r\n    auth: {\r\n      clientId: clientId,\r\n      authority: authority,\r\n      redirectUri: window.location.origin + \"/msal.html\"\r\n    },\r\n    cache: {\r\n      cacheLocation: \"localStorage\",\r\n      storeAuthStateInCookie: true\r\n    },\r\n  })\r\n\r\n  var token = await userAgent.getCachedToken(clientId)\r\n\r\n  if (token)\r\n    return token.accessToken\r\n\r\n  try\r\n  {\r\n    token = await userAgent.acquireTokenSilent(loginRequest)\r\n  }\r\n  catch (e)\r\n  {\r\n    console.log('MSAL Error: ' + e.errorCode)\r\n    if (e.errorCode === \"user_login_error\")\r\n    {\r\n      window.localStorage.msalClientId = clientId\r\n      await userAgent.loginPopup(loginRequest)\r\n      delete window.localStorage.msalClientId\r\n      return await getTokenMSAL( {clientId: clientId, authority: authority, loginRequest: loginRequest})\r\n    }\r\n    else if (e.errorCode === \"token_renewal_error\")\r\n    {\r\n      window.localStorage.msalClientId = clientId\r\n      token = await userAgent.acquireTokenPopup(loginRequest)\r\n      delete window.localStorage.msalClientId\r\n    }\r\n  }\r\n  \r\n  return token.accessToken\r\n}\r\n\r\nexport default new Vuex.Store( {\r\n  state: {\r\n    // The canonical and correct server url, i.e. `https://speckle.server.com/api`\r\n    server: null,\r\n    // The server description\r\n    serverManifest: null,\r\n    token: null,\r\n    user: {},\r\n    isAuth: false,\r\n    // where all the streams and their properties are stored.\r\n    streams: [ ],\r\n    // data editable streams; we store objects and layers in here. rest of metadata\r\n    // is in streams proper array (see above).\r\n    deStreams: [ ],\r\n    // global store for stream clients.\r\n    clients: [ ],\r\n    // global store for projects\r\n    projects: [ ],\r\n    comments: [ ],\r\n    // global store for users. it's dynamically assembled as the end-user moves through\r\n    // the admin ui, and new user profiles need to be requested.\r\n    users: [ ],\r\n    // viewer/processor related\r\n    loadedStreamIds: [ ],\r\n    objects: [ ],\r\n    legend: null,\r\n    selectedObjects: [ ],\r\n    // client (used for ws requests, etc.)\r\n    myClient: null,\r\n    // app dark mode?\r\n    dark: false,\r\n    // toggles viewer controls\r\n    viewerControls: true,\r\n\r\n    // processor related\r\n    // these are the function names for each block from /src/lambda\r\n    // if you want to add your own lambda, add the function/file name to the list to expose it\r\n    lambdas: [ ],\r\n    processors: [ ],\r\n    tokens: { },\r\n  },\r\n  getters: {\r\n    streamClients: ( state ) => ( streamId ) => {\r\n      return state.clients.filter( c => c.streamId === streamId )\r\n    },\r\n    filteredStreams: ( state ) => ( filters ) => {\r\n      let base = state.streams.filter( stream => stream.parent == null && stream.deleted === false )\r\n      if ( !filters || filters.length === 0 ) return base\r\n      filters.forEach( query => {\r\n        query.key = query.key.toLowerCase( )\r\n        if ( query.value === null ) base = base\r\n        else {\r\n          base = base.filter( stream => stream.name !== '' )\r\n          switch ( query.key ) {\r\n            case 'private':\r\n              if ( query.value )\r\n                base = base.filter( stream => stream.private.toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === true )\r\n              break\r\n            case 'public':\r\n              if ( query.value )\r\n                base = base.filter( stream => ( !stream.private ).toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === false )\r\n              break\r\n            case 'tag':\r\n            case 'tags':\r\n              let myTags = query.value.split( ',' ).map( t => t.toLowerCase( ) )\r\n              base = base.filter( stream => {\r\n                let streamTags = stream.tags.map( t => t.toLowerCase( ) )\r\n                return myTags.every( t => streamTags.includes( t ) )\r\n              } )\r\n              break\r\n            case 'mine':\r\n              base = base.filter( stream => stream.owner === state.user._id )\r\n              break;\r\n            case 'shared':\r\n              base = base.filter( stream => stream.owner !== state.user._id )\r\n              break;\r\n            case 'name':\r\n              base = base.filter( stream => stream.name ? stream.name.toLowerCase( ).includes( query.value.toLowerCase( ) ) : true )\r\n              break\r\n            case 'streamid':\r\n            case 'id':\r\n              base = base.filter( stream => stream.streamId.toLowerCase( ).includes( query.value.toLowerCase( ) ) )\r\n              break\r\n          }\r\n        }\r\n      } )\r\n      return base\r\n    },\r\n    objectPropertyKeys: ( state ) => {\r\n      let keySet = new Set( )\r\n      let stringKeySet = new Set( )\r\n      state.objects.forEach( obj => {\r\n        if ( !obj.properties ) return\r\n        let flatProps = flatten( removeArraysRecursive( obj.properties ) )\r\n        for ( let key in flatProps ) {\r\n          if ( key === 'hash' || key === 'id' || key.toLowerCase( ).includes( 'hash' ) || key.toLowerCase( ).includes( '_carbon' ) ) continue\r\n          if ( key.includes( '__' ) ) continue\r\n          keySet.add( key )\r\n          if ( typeof flatProps[ key ] === 'string' )\r\n            stringKeySet.add( key )\r\n        }\r\n      } )\r\n      let keySets = {\r\n        allKeys: [ ...keySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n        stringKeys: [ ...stringKeySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n      }\r\n      return keySets\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    hasStructuralProperties: ( state ) => {\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          if ( obj.properties.structural.result !== null )\r\n            return true\r\n        } catch {}\r\n      }\r\n      return false\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    structuralKeys: ( state ) => {\r\n      let keys = new Set( )\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          let props = flatten( getStructuralArrPropKeys( obj.properties.structural.result ) )\r\n          for ( let key in props )\r\n            keys.add( key )\r\n        } catch {}\r\n      }\r\n      return [ ...keys ]\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_DARK( state, dark ) {\r\n      state.dark = dark\r\n    },\r\n    TOGGLE_VIEWER_CONTROLS( state ) {\r\n      state.viewerControls = !state.viewerControls\r\n    },\r\n    // Streams\r\n    ADD_STREAMS( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          // defensive code (vue 3.0 we're off to typescript baby, can't wait)\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_STREAM( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( !found ) return console.error( 'stream not found; aborting update.' )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    UPDATE_STREAM_DATA( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( props.layers )\r\n        found.layers = props.layers\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n      // console.log('TODO')\r\n    },\r\n    DELETE_STREAM( state, stream ) {\r\n      let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index > -1 ) {\r\n        state.streams.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    },\r\n\r\n    // Clients\r\n    ADD_CLIENTS( state, clients ) {\r\n      clients.forEach( client => {\r\n        if ( state.clients.findIndex( x => x._id === client._id ) === -1 ) {\r\n          state.clients.push( client )\r\n        }\r\n      } )\r\n    },\r\n\r\n    ADD_DE_STREAM( state, stream ) {\r\n      let found = state.deStreams.find( s => s.streamId === stream )\r\n      if ( !found )\r\n        state.deStreams.push( stream )\r\n      else {\r\n        found.layers = stream.layers\r\n        found.objects = stream.objects\r\n      }\r\n    },\r\n    ADD_DE_STREAM_LAYER( state, stream ) {\r\n      console.log( stream )\r\n      let found = state.deStreams.find( s => s.streamId === stream.streamId )\r\n      let newLayer = {\r\n        name: `Param group ${found.layers.length + 1}`,\r\n        orderIndex: found.layers.length,\r\n        startIndex: found.objects.length,\r\n        objectCount: 0,\r\n        topology: \"0-0\",\r\n        guid: uuid( ),\r\n      }\r\n      found.layers.push( newLayer )\r\n    },\r\n    UPDATE_DE_STREAM_LAYER( state, { streamId, layer, objects } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let surpassed = false,\r\n        objectCountDifference = 0\r\n\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex += objectCountDifference\r\n        } else if ( iterLayer.guid === layer.guid ) {\r\n          iterLayer.name = layer.name\r\n          iterLayer.topology = `0-${objects.length}`\r\n          objectCountDifference = objects.length - iterLayer.objectCount\r\n          found.objects.splice( iterLayer.startIndex, iterLayer.objectCount, ...objects )\r\n          iterLayer.objectCount = objects.length\r\n          surpassed = true\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_DE_STREAM_LAYER( state, { streamId, layer } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      // dump objects\r\n      found.objects.splice( layer.startIndex, layer.objectCount )\r\n      // adjust start indexes\r\n      let surpassed = false\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex -= layer.objectCount\r\n          iterLayer.orderIndex -= 1\r\n        } else if ( iterLayer.guid === layer.guid ) surpassed = true\r\n      } )\r\n      // dump layer\r\n      found.layers = found.layers.filter( l => l.guid !== layer.guid )\r\n    },\r\n    APPEND_DE_STREAM_LAYERS_FROM_CSV( state, { streamId, transposed } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let index = 0\r\n      for ( let arr of transposed ) {\r\n        let newLayer = {\r\n          name: arr[ 0 ] !== '' ? arr[ 0 ] : \"Unnamed\",\r\n          orderIndex: -1, // to be set properly afterwards\r\n          startIndex: index === 0 ? found.objects.length : found.objects.length,\r\n          objectCount: arr.length - 1,\r\n          topology: `0-${arr.length-1}`,\r\n          guid: uuid( ),\r\n        }\r\n        found.layers.push( newLayer )\r\n        let noHeader = arr.slice( 1, arr.length )\r\n        console.log( noHeader )\r\n        found.objects.push( ...noHeader.map( val => {\r\n          if ( !val ) return { type: \"Null\", value: \"\" }\r\n          if ( typeof val === 'boolean' )\r\n            return { type: \"Boolean\", value: val }\r\n          if ( typeof val === 'number' )\r\n            return { type: \"Number\", value: val } // TODO: Hash it please\r\n          if ( typeof val === 'string' )\r\n            return { type: \"String\", value: val } // TODO: Hash it please\r\n        } ) )\r\n        index++\r\n      }\r\n      found.layers.forEach( ( layer, k ) => {\r\n        console.log( k )\r\n        layer.orderIndex = k\r\n      } )\r\n    },\r\n    // Projects\r\n    ADD_PROJECTS( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      if (found == null) return console.warn('The admin user is not on this project')\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n\r\n    // Processors\r\n    ADD_LAMBDAS( state, lambdas ) {\r\n      lambdas.forEach( lambda => {\r\n        if ( state.lambdas.findIndex( p => p.function === lambda.function ) === -1 ) {\r\n          state.lambdas.push( lambda )\r\n        }\r\n      } )\r\n    },\r\n    ADD_PROCESSORS( state, processors ) {\r\n      processors.forEach( processor => {\r\n        if ( state.processors.findIndex( p => p._id === processor._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !processor.tags ) processor.tags = [ ]\r\n          state.processors.unshift( processor )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROCESSOR( state, props ) {\r\n      let found = state.processors.find( p => p._id == props._id )\r\n\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n    },\r\n    DELETE_PROCESSOR( state, props ) {\r\n      let index = state.processors.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.processors.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove processor ${props._id} from store.` )\r\n    },\r\n    ADD_TOKEN( state, {id, token} ) {\r\n      Vue.set(state.tokens, id, token)\r\n      console.log(state.tokens)\r\n    },\r\n    DELETE_TOKEN( state, id ) {\r\n      Vue.delete(state.tokens, id)\r\n      console.log(state.tokens)\r\n    },\r\n\r\n    // Users\r\n    ADD_USER( state, user ) {\r\n      let found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        state.users.unshift( user )\r\n      else found = user // update the user\r\n    },\r\n    ADD_USERS( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_USER( state, user ) {\r\n      let found = null\r\n      if ( user._id === state.user._id ) found = state.user\r\n      else\r\n        found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n\r\n    // Generics\r\n    SET_SERVER( state, server ) {\r\n      state.server = server\r\n    },\r\n    SET_SERVER_DETAILS( state, serverManifest ) {\r\n      state.serverManifest = serverManifest\r\n    },\r\n    SET_TOKEN( state, token ) {\r\n      state.token = token\r\n      state.isAuth = true\r\n    },\r\n    SET_USER( state, user ) {\r\n      state.user = user\r\n    },\r\n    SET_WEB_APP_CLIENT( state, client ) {\r\n      state.client = client\r\n    },\r\n\r\n    // End of life\r\n    FLUSH_ALL( state ) {\r\n      state.token = null\r\n      state.user = {}\r\n      state.streams = [ ]\r\n      state.projects = [ ]\r\n      state.clients = [ ]\r\n      state.users = [ ]\r\n      state.comments = [ ]\r\n      state.isAuth = false\r\n    },\r\n\r\n    // Viewer related\r\n    ADD_LOADED_STREAMID( state, streamId ) {\r\n      state.loadedStreamIds = [ ...new Set( [ ...state.loadedStreamIds, streamId ] ) ]\r\n    },\r\n    REMOVE_LOADED_STREAMID( state, streamId ) {\r\n      let index = state.loadedStreamIds.indexOf( streamId )\r\n      if ( index !== -1 )\r\n        state.loadedStreamIds.splice( index, 1 )\r\n      else\r\n        console.warn( `Failed to remove loaded streamid: ${streamId} from ${state.loadedStreamIds}` )\r\n    },\r\n    // OBJECTS\r\n    ADD_OBJECTS( state, objects ) {\r\n      state.objects.push( ...objects )\r\n    },\r\n    UPDATE_OBJECTS_STREAMS( state, { objIds, streamToAdd, streamToRemove } ) {\r\n      objIds.forEach( id => {\r\n        let myObject = state.objects.find( o => o._id === id )\r\n        if ( myObject ) {\r\n          if ( streamToAdd && myObject.streams.indexOf( streamToAdd ) === -1 )\r\n            myObject.streams.push( streamToAdd )\r\n          if ( streamToRemove ) {\r\n            let index = myObject.streams.indexOf( streamToRemove )\r\n            if ( index !== -1 ) myObject.streams.splice( index, 1 )\r\n          }\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_OBJECTS( state, objectIds ) {\r\n      state.objects = state.objects.filter( obj => objectIds.indexOf( obj._id ) === -1 )\r\n    },\r\n    // Selected objects setters\r\n    SET_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      if ( objectIds.length > 0 )\r\n        state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n      else\r\n        state.selectedObjects = [ ]\r\n    },\r\n    ADD_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n    },\r\n    REMOVE_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      objectIds.forEach( id => {\r\n        let index = state.selectedObjects.indexOf( id )\r\n        if ( index !== -1 ) state.selectedObjects.splice( index, 1 )\r\n      } )\r\n    },\r\n    SET_LEGEND( state, legend ) {\r\n      state.legend = legend\r\n    },\r\n  },\r\n  actions: {\r\n    // Streams\r\n    getStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.streams.find( s => s.streamId === props.streamId )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    refreshStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'UPDATE_STREAM', res.data.resource )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n\r\n    getStreams( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createStream( context, stream ) {\r\n      let streamId = null\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `streams` )\r\n          .then( res => {\r\n            console.log( res )\r\n            stream.streamId = res.data.resource.streamId\r\n            res.data.resource.onlineEditable = true\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            //namespacing the admin module caused other issues, so we'll call this here as well\r\n            context.commit( 'ADD_STREAMS_ADMIN', [ res.data.resource ] )\r\n            return Axios.put( `streams/${res.data.resource.streamId}`, stream )\r\n          } )\r\n          .then( res => {\r\n            console.log( res )\r\n            context.commit( 'UPDATE_STREAM', stream )\r\n            return resolve( stream )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateStream( context, props ) {\r\n      Axios.put( `streams/${props.streamId}`, props )\r\n        .then( res => {\r\n          // modules.admin\r\n          context.commit( 'UPDATE_STREAM', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    // For data-editable streams only\r\n    updateStreamObjectsAndLayers: ( context, { streamId, commitMessage } ) => new Promise( ( resolve, reject ) => {\r\n      let found = context.state.deStreams.find( s => s.streamId === streamId )\r\n      if ( !found ) return reject( new Error( 'Stream not found in store.' ) )\r\n\r\n      found.commitMessage = commitMessage + ` (changed by ${context.state.user.name} ${context.state.user.surname})`\r\n      found.lastChangedBy = context.state.user._id\r\n\r\n      context.commit( 'UPDATE_STREAM', { streamId: streamId, commitMessage: commitMessage } )\r\n\r\n      Axios.post( `streams/${streamId}/clone` )\r\n        .then( res => {\r\n          let originalStream = context.state.streams.find( s => s.streamId === streamId )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, children: [ ...originalStream.children, res.data.clone.streamId ] } )\r\n          return Axios.put( `streams/${streamId}`, found )\r\n        } )\r\n        .then( res => resolve( res ) )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n    getStreamClients( context, props ) {\r\n      Axios.get( `streams/${props.streamId}/clients` )\r\n        .then( res => {\r\n          context.commit( 'ADD_CLIENTS', res.data.resources )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n    deleteStream( context, payload ) {\r\n      // TODO: https://github.com/speckleworks/SpeckleAdmin/issues/19\r\n      Axios.delete( `streams/${payload.streamId}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_STREAM', { streamId: payload.streamId } )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n\r\n    // objects\r\n    getStreamObjects( context, streamId ) {\r\n      let found = context.state.streams.find( s => s.streamId === streamId )\r\n      return new Promise( ( resolve, reject ) => {\r\n        context.dispatch( 'getStream', { streamId: streamId } )\r\n          .then( ( ) => {\r\n            return Axios.get( `streams/${streamId}?fields=objects,layers` )\r\n          } )\r\n          .then( res => {\r\n            let ids = res.data.resource.objects.map( o => o._id )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, objects: ids, layers: res.data.resource.layers } )\r\n            resolve( ids )\r\n          } )\r\n          .catch( err => {\r\n            reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getObjects( context, objectIds ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `objects/getbulk?omit=base64,rawData,canRead,canWrite,children,anonymousComments,name`, objectIds )\r\n          .then( res => {\r\n            // context.state.objects.push( ...res.data.resources )\r\n            // context.commit( 'ADD_OBJECTS', res.data.resources )\r\n            resolve( res.data.resources )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n    createObjects( context, objects ) {\r\n      return new Promise( (resolve, reject) => {\r\n        Axios.post(`objects`, objects)\r\n        .then( res => resolve( res.data.resources ) )\r\n        .catch( err => reject( err ))\r\n      })\r\n    },\r\n\r\n    // projects\r\n    getProject( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects/${props._id}` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getProjects( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createProject( context, project ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `projects`, project ? project : { name: 'A new speckle project' } )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            //namespacing the admin module caused other issues, so we'll call this here as well\r\n            context.commit( 'ADD_PROJECTS_ADMIN', [ res.data.resource ] )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateProject( context, props ) {\r\n      Axios.put( `projects/${props._id}`, props )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    addUserToProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/adduser/${userId}` )\r\n        .then( res => {\r\n          let permissions = { canWrite: [ ...new Set( [ ...project.permissions.canWrite, userId ] ) ], canRead: project.permissions.canRead }\r\n          let canRead = [ ...new Set( [ ...project.canRead, userId ] ) ]\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: permissions, canRead: canRead } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    upgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/upgradeuser/${userId}` )\r\n        .then( res => {\r\n          return Axios.get( `projects/${projectId}?fields=permissions` )\r\n        } )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', {\r\n            _id: projectId,\r\n            permissions: {\r\n              canRead: res.data.resource.permissions.canRead, //[ ...new Set( [ ...project.canRead, userId ] ) ],\r\n              canWrite: res.data.resource.permissions.canWrite //[ ...new Set( [ ...project.canWrite, userId ] ) ]\r\n            }\r\n          } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    downgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/downgradeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: res.data.project.permissions } )\r\n          res.data.streamsToAddReadAndPullWrite.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          res.data.streamsToAddToRead.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.delete( `projects/${projectId}/removeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, canRead: res.data.project.canRead, canWrite: res.data.project.canWrite, permissions: res.data.project.permissions } )\r\n          res.data.streamsToPullBothFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ), canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullWriteFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullReadFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    addStreamToProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/addstream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeStreamFromProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.delete( `projects/${projectId}/removestream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    deleteProject: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n      Axios.delete( `projects/${props._id}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_PROJECT', { _id: props._id } )\r\n          for ( let stream of res.data.modifiedStreams ) {\r\n            context.commit( 'UPDATE_STREAM', { streamId: stream.streamId, canRead: stream.canRead, canWrite: stream.canWrite } )\r\n          }\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n\r\n    // processors\r\n    loadLambdas ( context ) {\r\n      return new Promise(( resolve, reject ) => {\r\n        let promises = []\r\n        let myLambdas = new LambdaSettings().Lambdas\r\n\r\n        for(let i = 0; i < myLambdas.length; i++)\r\n        {\r\n          promises.push(\r\n            Axios({\r\n              method: 'GET',\r\n              url: `.netlify/functions/${myLambdas[i]}`,\r\n              baseURL: location.protocol + '//' + location.host,\r\n            })\r\n          )\r\n        }\r\n\r\n        Promise.all(promises)\r\n          .then( res => {\r\n            var lambdas = []\r\n\r\n            res.forEach( r => {\r\n              let data = r.data\r\n              data.function = r.request.responseURL.split('/').slice(-1).pop()\r\n              lambdas.push(data)\r\n            })\r\n\r\n            context.commit( 'ADD_LAMBDAS', lambdas )\r\n            return resolve ( lambdas )\r\n          } )\r\n      }) \r\n\r\n\r\n    },\r\n    getProcessor( context, props ) {\r\n      var processor = JSON.parse(window.localStorage.getItem(\"processor_\" + props._id))\r\n\r\n      if (processor !== null)\r\n        context.commit( 'ADD_PROCESSORS', [ processor ] )\r\n\r\n      return processor\r\n    },\r\n    getProcessors( context ) {\r\n      var processorIds = JSON.parse(window.localStorage.getItem(\"processorIds\"))\r\n\r\n      if (processorIds === null)\r\n        return null\r\n      \r\n      var processors = [ ]\r\n      processorIds.forEach( id => {\r\n        var processor = JSON.parse(window.localStorage.getItem(\"processor_\" + id))\r\n        if (processor != null)\r\n          processors.unshift(processor)\r\n      })\r\n\r\n      context.commit( 'ADD_PROCESSORS', processors )\r\n\r\n      return processors\r\n    },\r\n    createProcessor( context, processor ) {\r\n      var id = uuid()\r\n      \r\n      var proc = processor ? processor : { name: 'A new speckle processor' }\r\n      \r\n      // Always assign new ID\r\n      proc._id = id\r\n\r\n      if (!proc.hasOwnProperty('description'))\r\n        proc.description = \"This is a simple speckle processor.\"\r\n      \r\n      if (!proc.hasOwnProperty('tags'))\r\n        proc.tags = [ ]\r\n        \r\n      if (!proc.hasOwnProperty('blocks'))\r\n        proc.blocks = [ ]\r\n      \r\n      if (!proc.hasOwnProperty('params'))\r\n        proc.params = [ ]\r\n\r\n      // Properties added for compatibility with other components\r\n      // as well as for future storage in server\r\n      proc.owner = context.state.user._id\r\n      proc.private = false\r\n      proc.canRead = [ context.state.user._id ]\r\n      proc.canWrite = [ context.state.user._id ]\r\n\r\n      proc.anonymousComments = false\r\n      proc.comments = []\r\n\r\n      window.localStorage.setItem(\r\n        \"processor_\" + id,\r\n        JSON.stringify(proc)\r\n      )\r\n\r\n      context.commit( 'ADD_PROCESSORS', [ proc ] )\r\n\r\n      var processorIds = JSON.parse(window.localStorage.getItem(\"processorIds\"))\r\n\r\n      if (processorIds === null)\r\n        processorIds = [ ]\r\n      \r\n      processorIds.unshift(id)\r\n\r\n      window.localStorage.setItem(\r\n        \"processorIds\",\r\n        JSON.stringify(processorIds)\r\n      )\r\n\r\n      return proc\r\n    },\r\n    updateProcessor( context, props ) {\r\n      let found = JSON.parse(window.localStorage.getItem(\"processor_\" + props._id))\r\n\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      window.localStorage.setItem(\r\n        \"processor_\" + props._id,\r\n        JSON.stringify(found)\r\n      )\r\n\r\n      context.commit( 'UPDATE_PROCESSOR', props )\r\n    },\r\n    deleteProcessor( context, props ) {\r\n      window.localStorage.removeItem(\"processor_\" + props._id)\r\n\r\n      context.commit( 'DELETE_PROCESSOR', props )\r\n\r\n      var processorIds = JSON.parse(window.localStorage.getItem(\"processorIds\"))\r\n\r\n      if (processorIds !== null)\r\n      {\r\n        var foundIndex = processorIds.indexOf(props._id)\r\n        if (foundIndex !== -1)\r\n        {\r\n          processorIds.splice(foundIndex, 1)\r\n          \r\n          window.localStorage.setItem(\r\n            \"processorIds\",\r\n            JSON.stringify(processorIds)\r\n          )\r\n        }\r\n      }\r\n    },\r\n    async authenticateBlocks( context, blocks ) {\r\n      for (let i = 0; i < blocks.length; i++)\r\n      {\r\n        if(blocks[i].msal)\r\n        {\r\n          let propName = 'msal|' + blocks[i].msal.clientId\r\n          let token = await getTokenMSAL(blocks[i].msal)\r\n          context.commit( 'ADD_TOKEN', {id: propName, token: token})\r\n        }\r\n      }\r\n    },\r\n    \r\n    // client for ws ids, etc.\r\n    createClient: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n\r\n      // NOTE: This is a stupid hack. To get a temp client, we need to be not auhtorised : /\r\n      delete Axios.defaults.headers.common[ 'Authorization' ]\r\n\r\n      Axios.post( `clients`, { role: 'online-client', documentName: 'Online interface', documentType: 'browser', online: true } )\r\n        .then( res => {\r\n          context.commit( 'SET_WEB_APP_CLIENT', res.data.resource )\r\n          return resolve( res.data.resource )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n      // set the headers back. man what a stupid hack this is...\r\n      Axios.defaults.headers.common[ 'Authorization' ] = context.state.token\r\n    } ),\r\n\r\n    // users\r\n    getUser( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.users.find( u => u._id === payload._id )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `accounts/${payload._id}` )\r\n          .then( res => {\r\n            if ( context.state.user._id === payload._id ) res.data.resource.surname += ' (that is you!)'\r\n            context.commit( 'ADD_USER', res.data.resource )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    updateLoggedInUser: ( context, payload ) => new Promise( ( resolve, reject ) => {\r\n      console.log(payload)\r\n      Axios.put( `accounts`, payload )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_USER', payload )\r\n          return resolve( res )\r\n        } )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n\r\n    // Auth\r\n    login( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( 'accounts/login', { email: payload.email, password: payload.password } )\r\n          .then( res => {\r\n            context.commit( 'SET_TOKEN', res.data.resource.token )\r\n            context.commit( 'SET_USER', res.data.resource )\r\n            // save them for later\r\n            localStorage.setItem( 'token', res.data.resource.token )\r\n            Axios.defaults.headers.common[ 'Authorization' ] = res.data.resource.token\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    logout( context, payload ) {\r\n      context.commit( 'FLUSH_ALL' )\r\n      localStorage.removeItem( 'token' )\r\n      Axios.defaults.headers.common[ 'Authorization' ] = ''\r\n    }\r\n  },\r\n  modules: {\r\n    admin: adminStore\r\n  }\r\n} )","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Store from './store'\r\n\r\nVue.use( Router )\r\n\r\nlet myRouter = new Router( {\r\n  linkExactActiveClass: 'is-active',\r\n  routes: [ {\r\n      path: '/',\r\n      name: 'dashboard',\r\n      component: ( ) => import( './views/Dashboard.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/login/:redirectTo?',\r\n      name: 'login',\r\n      component: ( ) => import( './views/Login.vue' )\r\n    },\r\n    {\r\n      path: '/register',\r\n      name: 'register',\r\n      component: ( ) => import( './views/Register.vue' ),\r\n    },\r\n    {\r\n      path: '/streams',\r\n      name: 'streams',\r\n      component: ( ) => import( './views/Streams.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/streams/:streamId',\r\n      component: ( ) => import( './views/Stream.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'stream overview',\r\n        path: '',\r\n        component: ( ) => import( './views/StreamOverview.vue' )\r\n      }, {\r\n        name: 'stream data',\r\n        path: 'data',\r\n        component: ( ) => import( './views/StreamData.vue' )\r\n      }, {\r\n        name: 'stream sharing',\r\n        path: 'sharing',\r\n        component: ( ) => import( './views/StreamSharing.vue' )\r\n      }, {\r\n        name: 'stream history',\r\n        path: 'history',\r\n        component: ( ) => import( './views/StreamHistory.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/projects',\r\n      name: 'projects',\r\n      component: ( ) => import( './views/Projects.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/projects/:projectId',\r\n      name: 'project overview',\r\n      component: ( ) => import( './views/Project.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/view/:streamIds*',\r\n      name: 'viewer',\r\n      component: ( ) => import( './views/Viewer.vue' ),\r\n      meta: { requiresAuth: false },\r\n    },\r\n    {\r\n      path: '/trash',\r\n      name: 'trash',\r\n      component: ( ) => import( './views/Trash.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/profile',\r\n      name: 'profile',\r\n      component: ( ) => import( './views/Profile.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/plugins',\r\n      name: 'plugins',\r\n      component: ( ) => import( './views/Plugins.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/feedback',\r\n      name: 'feedback',\r\n      component: ( ) => import( './views/Feedback.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/admin',\r\n      name: '',\r\n      component: ( ) => import( './views/Admin.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'admin users',\r\n        path: '',\r\n        component: ( ) => import( './views/AdminUsers.vue' )\r\n      }, {\r\n        name: 'admin streams',\r\n        path: 'streams',\r\n        component: ( ) => import( './views/AdminStreams.vue' )\r\n      }, {\r\n        name: 'admin projects',\r\n        path: 'projects',\r\n        component: ( ) => import( './views/AdminProjects.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/processors',\r\n      name: 'processors',\r\n      component: ( ) => import( './views/Processors.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/processors/:processorId',\r\n      name: 'processor overview',\r\n      component: ( ) => import( './views/Processor.vue' ),\r\n      meta: { requiresAuth: true },\r\n    }\r\n  ],\r\n  // scrollBehavior( to, from, savedPosition ) {\r\n  //   console.log( 'scrollBehavior' )\r\n  //   return { x: 0, y: 0 }\r\n  // }\r\n} )\r\n\r\n// myRouter.afterEach( ( to, from ) => {\r\n//   document.getElementById( 'app' ).scrollIntoView( )\r\n// } )\r\n\r\nmyRouter.beforeEach( ( to, from, next ) => {\r\n  if ( to.meta.requiresAuth ) {\r\n    if ( to.meta.requiresAuth === true && Store.state.isAuth === false )\r\n      return next( { path: '/login' + ( to !== null ? \"/\" + window.btoa( to.path ) : \"\" ) } )\r\n  }\r\n  next( )\r\n} )\r\n\r\nexport default myRouter\r\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"title\":_vm.hint,\"contenteditable\":!_vm.disabled},domProps:{\"innerHTML\":_vm._s(_vm.getContent())},on:{\"blur\":_vm.updateOnBlur,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateOnEnter($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span :title='hint' :contenteditable='!disabled' @blur='updateOnBlur' @keydown.enter='updateOnEnter' v-html='getContent()'></span>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'EditableSpan',\r\n  props: {\r\n    text: { type: String, default: 'loading...' },\r\n    disabled: { type: Boolean, default: false },\r\n    hint: { type: String, default: 'click and type to edit' },\r\n    dataKey: { type: String, default: '' }\r\n  },\r\n  computed: {},\r\n  data( ) {\r\n    return {\r\n      innerText: null\r\n    }\r\n  },\r\n  methods: {\r\n    getContent( ) {\r\n      if ( this.innerText )\r\n        return this.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" ) !== '' ? this.innerText : this.text\r\n      return this.text\r\n    },\r\n    updateOnBlur( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        return\r\n      }\r\n      this.innerText = newContent\r\n      this.$emit( 'update', { text: newContent, dataKey: this.dataKey } )\r\n    },\r\n    updateOnEnter( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        e.target.blur( )\r\n        return\r\n      }\r\n      e.target.blur( )\r\n      this.innerText = newContent\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n$SpeckleBlue: #448aff;\r\n\r\nspan {\r\n  border-bottom: 2px dashed rgba(55, 126, 247, 0.6);\r\n  transition: all .3s ease;\r\n}\r\n\r\nspan:hover {\r\n  cursor: text;\r\n  color: $SpeckleBlue;\r\n  border-bottom: 2px solid $SpeckleBlue;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditableSpan.vue?vue&type=template&id=8918005a&scoped=true&\"\nimport script from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nexport * from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8918005a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Axios from 'axios'\r\nimport App from './App.vue'\r\nimport Router from './router'\r\nimport Store from './store'\r\nimport './registerServiceWorker'\r\n\r\nVue.config.productionTip = false\r\n\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\nimport colors from 'vuetify/es5/util/colors'\r\n\r\nVue.use( Vuetify, {\r\n  theme: {\r\n    primary: colors.blue.darken1, // #E53935\r\n    secondary: colors.blue.lighten4, // #FFCDD2\r\n    accent: colors.indigo.base // #3F51B5\r\n  }\r\n} )\r\n\r\nimport VueTimeago from 'vue-timeago'\r\nVue.use( VueTimeago, { locale: 'en' } )\r\n\r\n// Set up the server route.\r\nlet server = localStorage.getItem( 'server' )\r\nif ( server )\r\n  Store.state.server = server\r\nelse\r\n Store.state.server = `${window.location.origin}/api`\r\n\r\n\r\n// set default server\r\nAxios.defaults.baseURL = Store.state.server\r\n\r\n// Get the token, if any is present.\r\nlet token = localStorage.getItem( 'token' )\r\n\r\n// Start the init flow\r\nAxios.get( Store.state.server )\r\n  .then( response => {\r\n    Store.state.serverManifest = response.data\r\n    return Axios.get( `${Store.state.server}/accounts?omit=logins`, { headers: { Authorization: token } } )\r\n  } )\r\n  .then( response => {\r\n    // means we're logged out\r\n    if ( response === null ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // needs to log in\r\n    if ( response.status !== 200 ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // set defaults in axios, if we got this far things should be fine\r\n    Axios.defaults.headers.common[ 'Authorization' ] = token\r\n    // update the store\r\n    Store.state.isAuth = true\r\n    Store.state.user = response.data.resource\r\n    Store.state.token = token\r\n\r\n    initApp( )\r\n  } )\r\n  .catch( err => {\r\n    initApp( )\r\n  } )\r\n\r\n// set axios as default $http request lib\r\nVue.prototype.$http = Axios\r\n\r\n// event bus used for triggerring events cross-hirearchy\r\nwindow.bus = new Vue( )\r\n\r\n// get hex color from string global mixin\r\nimport CH from 'color-hash'\r\nlet ColorHasher = new CH( )\r\nVue.mixin( {\r\n  methods: {\r\n    getHexFromString: str => ColorHasher.hex( str )\r\n  }\r\n} )\r\n\r\nimport EditableSpan from './components/EditableSpan.vue'\r\nVue.component( 'editable-span', EditableSpan )\r\n\r\n// The init logic (it's called after we do some auth flows)\r\nlet initApp = ( ) => {\r\n  new Vue( {\r\n    router: Router,\r\n    store: Store,\r\n    render: h => h( App )\r\n  } ).$mount( '#app' )\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\""],"sourceRoot":""}