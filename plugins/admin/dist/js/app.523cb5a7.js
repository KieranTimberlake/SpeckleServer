(function(t){function e(e){for(var r,o,i=e[0],s=e[1],u=e[2],d=0,l=[];d<i.length;d++)o=i[d],a[o]&&l.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={app:0},a={app:0},c=[];function i(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d0af48a":"d895e31a","chunk-3fa38642":"046baa69","chunk-28735d43":"e33376d7","chunk-2d0b9d35":"cf4ee9f7","chunk-2d0d6d35":"8cfe7d31","chunk-2d0d7de8":"a6bd240c","chunk-2d0daf2f":"08900832","chunk-2d2086b7":"c4445435","chunk-2d217357":"ca23d057","chunk-b149a800":"adc3d48d","chunk-b2bc435c":"c25ef48c","chunk-c45573d2":"c87dddb0","chunk-11dea852":"d55d8f0b","chunk-26a30cee":"11fd47c8","chunk-273d08e0":"0bdb8f6b","chunk-2d0abfdc":"30180224","chunk-2d0b3630":"d23c5f7a","chunk-2d2138f6":"ba94bef2","chunk-31b22792":"c68d65d4","chunk-40322304":"f79d8f0b","chunk-4ed6d37c":"5a322536","chunk-ba06ea44":"6e65a572","chunk-39bd985f":"62df773b","chunk-6e5b3d4a":"5b2ff6cd","chunk-e15986fe":"5c8e2290","chunk-2d2217c7":"2652bd95"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-b149a800":1,"chunk-11dea852":1,"chunk-26a30cee":1,"chunk-273d08e0":1,"chunk-31b22792":1,"chunk-40322304":1,"chunk-4ed6d37c":1,"chunk-ba06ea44":1,"chunk-39bd985f":1,"chunk-6e5b3d4a":1,"chunk-e15986fe":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise(function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-2d0af48a":"31d6cfe0","chunk-3fa38642":"31d6cfe0","chunk-28735d43":"31d6cfe0","chunk-2d0b9d35":"31d6cfe0","chunk-2d0d6d35":"31d6cfe0","chunk-2d0d7de8":"31d6cfe0","chunk-2d0daf2f":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-2d217357":"31d6cfe0","chunk-b149a800":"8250f7ae","chunk-b2bc435c":"31d6cfe0","chunk-c45573d2":"31d6cfe0","chunk-11dea852":"6c2964e7","chunk-26a30cee":"a0aa1ab8","chunk-273d08e0":"35b11dc3","chunk-2d0abfdc":"31d6cfe0","chunk-2d0b3630":"31d6cfe0","chunk-2d2138f6":"31d6cfe0","chunk-31b22792":"c71cff4e","chunk-40322304":"46ced505","chunk-4ed6d37c":"0848e5c5","chunk-ba06ea44":"43984537","chunk-39bd985f":"4a9e54b2","chunk-6e5b3d4a":"d332c570","chunk-e15986fe":"a7441b03","chunk-2d2217c7":"31d6cfe0"}[t]+".css",a=s.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return e()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],d=u.getAttribute("data-href");if(d===r||d===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||a,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[t],f.parentNode.removeChild(f),n(c)},f.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){o[t]=0}));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise(function(e,n){r=a[t]=[e,n]});e.push(r[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(t),u=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");c.type=r,c.request=o,n[1](c)}a[t]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=d;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=n("bc3a"),a=n.n(o),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:t.dark}},[n("v-navigation-drawer",{staticClass:"elevation-5",attrs:{floating:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return n("v-toolbar",{class:"elevation-"+(r?20:0)+" "+(t.dark?"royal-bg":"light-bg"),attrs:{flat:"",prominent:"",dark:"",xxxstyle:"position: absolute; bottom:0"}},[n("div",{staticClass:"text-uppercase caption ml-0"},[n("a",{staticStyle:{color:"white","text-decoration":"none"},attrs:{href:"https://speckle.works",target:"_blank"}},[n("b",[t._v("Speckle")]),t._v(",\n            "),n("span",{staticClass:"font-weight-light caption"},[t._v("the open source data platform for AEC.")])])])])}}])}),n("nav-drawer")],1),n("v-toolbar",{attrs:{app:"",flat:""}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",{staticClass:"text-uppercase font-weight-light"},[t._v(t._s(t.$route.name))]),t.$route.path.includes("view")?n("div",{staticClass:"mt-1"},[n("v-btn",{attrs:{small:"",round:"",flat:""},nativeOn:{click:function(e){return t.toggleControlsViewer(e)}}},[t._v(t._s(t.$store.state.viewerControls?"close":"show")+" controls")])],1):t._e(),n("v-spacer"),n("v-btn",{attrs:{small:"",flat:""},nativeOn:{click:function(e){return t.logout()}}},[t._v("\n      Logout\n    ")]),n("v-btn",{attrs:{flat:"",small:"",icon:""},nativeOn:{click:function(e){return t.toggleDark()}}},[n("v-icon",{attrs:{small:""}},[t._v("wb_sunny")])],1)],1),n("v-content",[n("keep-alive",{attrs:{exclude:"StreamDetailView"}},[n("router-view")],1)],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$store.state.isAuth?n("v-list",{staticClass:"pa-0",attrs:{"two-line":""}},[n("v-list-tile",{attrs:{to:"/"}},[n("v-list-tile-action",[n("v-icon",[t._v("home")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Home")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("Everything at a glance.")])],1)],1),n("v-list-tile",{attrs:{to:"/streams"}},[n("v-list-tile-action",[n("v-icon",[t._v("import_export")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Streams")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("Create and manage your streams.")])],1)],1),n("v-list-tile",{attrs:{to:"/projects"}},[n("v-list-tile-action",[n("v-icon",[t._v("business")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Projects")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("Group your data and share it with others.")])],1)],1),n("v-list-tile",{attrs:{to:"/trash"}},[n("v-list-tile-action",[n("v-icon",[t._v("delete_outline")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Archive")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("The good old recycle bin.")])],1)],1),"admin"===t.$store.state.user.role?n("v-list-tile",{attrs:{to:"/admin"}},[n("v-list-tile-action",[n("v-icon",[t._v("settings")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Admin")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("Server administration")])],1)],1):t._e(),n("v-divider",{staticClass:"ma-3"}),n("v-list-tile",{attrs:{to:"/view"}},[n("v-list-tile-action",[n("v-icon",[t._v("360")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Viewer")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("View Things! In Dimensions! With 3D!")])],1)],1),n("v-list-tile",{attrs:{to:"/processors"}},[n("v-list-tile-action",[n("v-icon",[t._v("code")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Processor")]),n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("Stream processing")])],1)],1),n("v-divider",{staticClass:"ma-3"})],1):t._e(),t.$store.state.isAuth?n("v-list",[n("v-list-tile",{attrs:{to:"/profile"}},[n("v-list-tile-action",[n("v-icon",[t._v("face")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Profile")])],1)],1),n("v-list-tile",{attrs:{to:"/plugins"}},[n("v-list-tile-action",[n("v-icon",[t._v("category")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Plugins")])],1)],1),n("v-list-tile",{attrs:{to:"/feedback"}},[n("v-list-tile-action",[n("v-icon",[t._v("feedback")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Feedback")])],1)],1),n("v-list-tile",[n("v-list-tile-action",[n("v-icon",[t._v("developer_board")])],1),n("v-list-tile-content",[n("v-list-tile-sub-title",{staticClass:"font-weight-light caption"},[t._v("You're connected at "+t._s(t.$store.state.serverManifest.serverName)),n("br"),t._v(t._s(t.$store.state.server))])],1)],1)],1):n("v-list",{attrs:{"three-line":""}},[n("v-list-tile",{attrs:{to:"/login"}},[n("v-list-tile-action",[n("v-icon",[t._v("face")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Login")]),n("v-list-tile-sub-title",[t._v("If you already have an account, login here!")])],1)],1),n("v-list-tile",{attrs:{to:"/register"}},[n("v-list-tile-action",[n("v-icon",[t._v("add")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Register")]),n("v-list-tile-sub-title",[t._v("If you don't have an account, create one here!")])],1)],1)],1)],1)},u=[],d={name:"SiteNavigation"},l=d,f=n("2877"),m=Object(f["a"])(l,s,u,!1,null,null,null),h=m.exports,p={name:"MainApp",components:{NavDrawer:h},data:function(t){return{drawer:!0,dark:!1,viewerControls:!0}},methods:{toggleDark:function(){this.dark=!this.dark,localStorage.setItem("dark",this.dark)},logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")},toggleControlsViewer:function(){this.$store.commit("TOGGLE_VIEWER_CONTROLS")}},created:function(){this.$store.state.isAuth&&(this.$store.dispatch("getStreams","omit=objects,layers&isComputedResult=false&sort=updatedAt"),this.$store.dispatch("getProjects"),this.$store.dispatch("getProcessors"),this.$store.dispatch("createClient")),"true"===localStorage.getItem("dark")&&(this.dark=!0,this.$store.commit("SET_DARK",!0)),this.$store.dispatch("loadLambdas")},updated:function(){var t=document.getElementsByClassName("md-overlay")[0];t&&(t.onclick=function(){this.showSidebar=!1}.bind(this))}},v=p,g=(n("5c0b"),Object(f["a"])(v,c,i,!1,null,null,null)),b=g.exports,_=n("8c4f"),E=(n("96cf"),n("ac4d"),n("8a81"),n("75fc")),S=(n("55dd"),n("5df3"),n("4f7f"),n("6762"),n("2fdb"),n("28a5"),n("6b54"),n("7f7f"),n("3b8d")),k=(n("456d"),n("7514"),n("20d6"),n("ac6a"),n("7618")),w=n("2f62"),A=n("6233"),j=n("c36e"),T=n.n(j),I=n("c64e"),y=n.n(I),P=n("1149"),D=n.n(P);function O(){this.Lambdas=["receiver","filter","sender","restAPI","downloadobjects","uploadobjects","arupCompute","proximity"]}function R(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||("object"===Object(k["a"])(t[n])&&null!==t[n]?e[n]=R(t[n]):e[n]=t[n]));return e}function C(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])?e[n]="Array with ".concat(t[n].length," elements"):"object"===Object(k["a"])(t[n])&&null!==t[n]&&(e[n]=C(t[n])));return e}r["default"].use(w["a"]);var x={state:{streams:[],users:[],projects:[]},mutations:{ADD_STREAMS_ADMIN:function(t,e){e.forEach(function(e){-1===t.streams.findIndex(function(t){return t.streamId===e.streamId})&&(e.description||(e.description="..."),e.tags||(e.tags=[]),t.streams.unshift(e))})},UPDATE_STREAM:function(t,e){var n=t.streams.find(function(t){return t.streamId===e.streamId});if(!n)return console.error("User not found; aborting update.");Object.keys(e).forEach(function(t){n[t]=e[t]}),n.updatedAt=(new Date).toISOString()},DELETE_STREAM:function(t,e){var n=t.streams.findIndex(function(t){return t.streamId===e.streamId});n>-1?t.streams.splice(n,1):console.log("Failed to remove stream ".concat(e.streamId," from store."))},ADD_USERS_ADMIN:function(t,e){e.forEach(function(e){var n=t.users.find(function(t){return t._id===e._id});n?n=e:t.users.unshift(e)})},UPDATE_USER:function(t,e){var n=null;if(n=t.users.find(function(t){return t._id===e._id}),!n)return console.error("User not found; aborting update.");Object.keys(e).forEach(function(t){n[t]=e[t]})},ADD_PROJECTS_ADMIN:function(t,e){e.forEach(function(e){-1===t.projects.findIndex(function(t){return t._id===e._id})&&(e.tags||(e.tags=[]),e.deleted||(e.deleted=!1),t.projects.unshift(e))})},UPDATE_PROJECT:function(t,e){var n=t.projects.find(function(t){return t._id===e._id});null!=n&&(Object.keys(e).forEach(function(t){n[t]=e[t]}),n.updatedAt=(new Date).toISOString())},DELETE_PROJECT:function(t,e){var n=t.projects.findIndex(function(t){return t._id===e._id});n>-1?t.projects.splice(n,1):console.log("Failed to remove project ".concat(e._id," from store."))}},getters:{},actions:{getStreamsAdmin:function(t){return new Promise(function(e,n){a.a.get("streams/admin").then(function(n){return t.commit("ADD_STREAMS_ADMIN",n.data.resources),e(n.data.resources)}).catch(function(t){return console.log(t),n(t)})})},getUsersAdmin:function(t){return new Promise(function(e,n){a.a.get("accounts/admin").then(function(n){return t.commit("ADD_USERS_ADMIN",n.data.resource),e(n.data.resources)}).catch(function(t){return console.log(t),n(t)})})},updateUserAdmin:function(t,e){return new Promise(function(n,r){a.a.put("accounts/"+e._id,e).then(function(r){return n(t.commit("UPDATE_USER",e))}).catch(function(t){return r(t)})})},getProjectsAdmin:function(t){return new Promise(function(e,n){a.a.get("projects/admin").then(function(n){return t.commit("ADD_PROJECTS_ADMIN",n.data.resources),e(n.data.resources)}).catch(function(t){return console.log(t),n(t)})})}}};function M(t){return U.apply(this,arguments)}function U(){return U=Object(S["a"])(regeneratorRuntime.mark(function t(e){var n,r,o,a,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.clientId,r=e.authority,o=e.loginRequest,a=new A["a"]({auth:{clientId:n,authority:r,redirectUri:window.location.origin+"/msal.html"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}}),t.next=4,a.getCachedToken(n);case 4:if(c=t.sent,!c){t.next=7;break}return t.abrupt("return",c.accessToken);case 7:return t.prev=7,t.next=10,a.acquireTokenSilent(o);case 10:c=t.sent,t.next=32;break;case 13:if(t.prev=13,t.t0=t["catch"](7),console.log("MSAL Error: "+t.t0.errorCode),"user_login_error"!==t.t0.errorCode){t.next=26;break}return window.localStorage.msalClientId=n,t.next=20,a.loginPopup(o);case 20:return delete window.localStorage.msalClientId,t.next=23,M({clientId:n,authority:r,loginRequest:o});case 23:return t.abrupt("return",t.sent);case 26:if("token_renewal_error"!==t.t0.errorCode){t.next=32;break}return window.localStorage.msalClientId=n,t.next=30,a.acquireTokenPopup(o);case 30:c=t.sent,delete window.localStorage.msalClientId;case 32:return t.abrupt("return",c.accessToken);case 33:case"end":return t.stop()}},t,null,[[7,13]])})),U.apply(this,arguments)}var L=new w["a"].Store({state:{server:null,serverManifest:null,token:null,user:{},isAuth:!1,streams:[],deStreams:[],clients:[],projects:[],comments:[],users:[],loadedStreamIds:[],objects:[],legend:null,selectedObjects:[],myClient:null,dark:!1,viewerControls:!0,lambdas:[],processors:[],tokens:{}},getters:{streamClients:function(t){return function(e){return t.clients.filter(function(t){return t.streamId===e})}},filteredStreams:function(t){return function(e){var n=t.streams.filter(function(t){return null==t.parent&&!1===t.deleted});return e&&0!==e.length?(e.forEach(function(e){if(e.key=e.key.toLowerCase(),null===e.value)n=n;else switch(n=n.filter(function(t){return""!==t.name}),e.key){case"private":n=e.value?n.filter(function(t){return t.private.toString()===e.value}):n.filter(function(t){return!0===t.private});break;case"public":n=e.value?n.filter(function(t){return(!t.private).toString()===e.value}):n.filter(function(t){return!1===t.private});break;case"tag":case"tags":var r=e.value.split(",").map(function(t){return t.toLowerCase()});n=n.filter(function(t){var e=t.tags.map(function(t){return t.toLowerCase()});return r.every(function(t){return e.includes(t)})});break;case"mine":n=n.filter(function(e){return e.owner===t.user._id});break;case"shared":n=n.filter(function(e){return e.owner!==t.user._id});break;case"name":n=n.filter(function(t){return!t.name||t.name.toLowerCase().includes(e.value.toLowerCase())});break;case"streamid":case"id":n=n.filter(function(t){return t.streamId.toLowerCase().includes(e.value.toLowerCase())});break}}),n):n}},objectPropertyKeys:function(t){var e=new Set,n=new Set;t.objects.forEach(function(t){if(t.properties){var r=D()(R(t.properties));for(var o in r)"hash"===o||"id"===o||o.toLowerCase().includes("hash")||o.toLowerCase().includes("_carbon")||o.includes("__")||(e.add(o),"string"===typeof r[o]&&n.add(o))}});var r={allKeys:Object(E["a"])(e).sort(function(t,e){return t.split(".").length-e.split(".").length}).sort(function(t,e){return t.length-e.length}),stringKeys:Object(E["a"])(n).sort(function(t,e){return t.split(".").length-e.split(".").length}).sort(function(t,e){return t.length-e.length})};return r},hasStructuralProperties:function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=t.objects[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var c=o.value;try{if(null!==c.properties.structural.result)return!0}catch(i){}}}catch(s){n=!0,r=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}return!1},structuralKeys:function(t){var e=new Set,n=!0,r=!1,o=void 0;try{for(var a,c=t.objects[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var i=a.value;try{var s=D()(C(i.properties.structural.result));for(var u in s)e.add(u)}catch(d){}}}catch(l){r=!0,o=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return Object(E["a"])(e)}},mutations:{SET_DARK:function(t,e){t.dark=e},TOGGLE_VIEWER_CONTROLS:function(t){t.viewerControls=!t.viewerControls},ADD_STREAMS:function(t,e){e.forEach(function(e){-1===t.streams.findIndex(function(t){return t.streamId===e.streamId})&&(e.description||(e.description="..."),e.tags||(e.tags=[]),t.streams.unshift(e))})},UPDATE_STREAM:function(t,e){var n=t.streams.find(function(t){return t.streamId===e.streamId});if(!n)return console.error("stream not found; aborting update.");Object.keys(e).forEach(function(t){n[t]=e[t]}),n.updatedAt=(new Date).toISOString()},UPDATE_STREAM_DATA:function(t,e){var n=t.streams.find(function(t){return t.streamId===e.streamId});e.layers&&(n.layers=e.layers),n.updatedAt=(new Date).toISOString()},DELETE_STREAM:function(t,e){var n=t.streams.findIndex(function(t){return t.streamId===e.streamId});n>-1?t.streams.splice(n,1):console.log("Failed to remove stream ".concat(e.streamId," from store."))},ADD_CLIENTS:function(t,e){e.forEach(function(e){-1===t.clients.findIndex(function(t){return t._id===e._id})&&t.clients.push(e)})},ADD_DE_STREAM:function(t,e){var n=t.deStreams.find(function(t){return t.streamId===e});n?(n.layers=e.layers,n.objects=e.objects):t.deStreams.push(e)},ADD_DE_STREAM_LAYER:function(t,e){console.log(e);var n=t.deStreams.find(function(t){return t.streamId===e.streamId}),r={name:"Param group ".concat(n.layers.length+1),orderIndex:n.layers.length,startIndex:n.objects.length,objectCount:0,topology:"0-0",guid:y()()};n.layers.push(r)},UPDATE_DE_STREAM_LAYER:function(t,e){var n=e.streamId,r=e.layer,o=e.objects,a=t.deStreams.find(function(t){return t.streamId===n}),c=!1,i=0;a.layers.forEach(function(t){if(c)t.startIndex+=i;else if(t.guid===r.guid){var e;t.name=r.name,t.topology="0-".concat(o.length),i=o.length-t.objectCount,(e=a.objects).splice.apply(e,[t.startIndex,t.objectCount].concat(Object(E["a"])(o))),t.objectCount=o.length,c=!0}})},REMOVE_DE_STREAM_LAYER:function(t,e){var n=e.streamId,r=e.layer,o=t.deStreams.find(function(t){return t.streamId===n});o.objects.splice(r.startIndex,r.objectCount);var a=!1;o.layers.forEach(function(t){a?(t.startIndex-=r.objectCount,t.orderIndex-=1):t.guid===r.guid&&(a=!0)}),o.layers=o.layers.filter(function(t){return t.guid!==r.guid})},APPEND_DE_STREAM_LAYERS_FROM_CSV:function(t,e){var n=e.streamId,r=e.transposed,o=t.deStreams.find(function(t){return t.streamId===n}),a=!0,c=!1,i=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var d,l=s.value,f={name:""!==l[0]?l[0]:"Unnamed",orderIndex:-1,startIndex:o.objects.length,objectCount:l.length-1,topology:"0-".concat(l.length-1),guid:y()()};o.layers.push(f);var m=l.slice(1,l.length);console.log(m),(d=o.objects).push.apply(d,Object(E["a"])(m.map(function(t){return t?"boolean"===typeof t?{type:"Boolean",value:t}:"number"===typeof t?{type:"Number",value:t}:"string"===typeof t?{type:"String",value:t}:void 0:{type:"Null",value:""}}))),0}}catch(h){c=!0,i=h}finally{try{a||null==u.return||u.return()}finally{if(c)throw i}}o.layers.forEach(function(t,e){console.log(e),t.orderIndex=e})},ADD_PROJECTS:function(t,e){e.forEach(function(e){-1===t.projects.findIndex(function(t){return t._id===e._id})&&(e.tags||(e.tags=[]),e.deleted||(e.deleted=!1),t.projects.unshift(e))})},UPDATE_PROJECT:function(t,e){var n=t.projects.find(function(t){return t._id===e._id});if(null==n)return console.warn("The admin user is not on this project");Object.keys(e).forEach(function(t){n[t]=e[t]}),n.updatedAt=(new Date).toISOString()},DELETE_PROJECT:function(t,e){var n=t.projects.findIndex(function(t){return t._id===e._id});n>-1?t.projects.splice(n,1):console.log("Failed to remove project ".concat(e._id," from store."))},ADD_LAMBDAS:function(t,e){e.forEach(function(e){-1===t.lambdas.findIndex(function(t){return t.function===e.function})&&t.lambdas.push(e)})},ADD_PROCESSORS:function(t,e){e.forEach(function(e){-1===t.processors.findIndex(function(t){return t._id===e._id})&&(e.tags||(e.tags=[]),t.processors.unshift(e))})},UPDATE_PROCESSOR:function(t,e){var n=t.processors.find(function(t){return t._id==e._id});Object.keys(e).forEach(function(t){n[t]=e[t]})},DELETE_PROCESSOR:function(t,e){var n=t.processors.findIndex(function(t){return t._id===e._id});n>-1?t.processors.splice(n,1):console.log("Failed to remove processor ".concat(e._id," from store."))},ADD_TOKEN:function(t,e){var n=e.id,o=e.token;r["default"].set(t.tokens,n,o),console.log(t.tokens)},DELETE_TOKEN:function(t,e){r["default"].delete(t.tokens,e),console.log(t.tokens)},ADD_USER:function(t,e){var n=t.users.find(function(t){return t._id===e._id});n?n=e:t.users.unshift(e)},ADD_USERS:function(t,e){e.forEach(function(e){var n=t.users.find(function(t){return t._id===e._id});n?n=e:t.users.unshift(e)})},UPDATE_USER:function(t,e){var n=null;if(n=e._id===t.user._id?t.user:t.users.find(function(t){return t._id===e._id}),!n)return console.error("User not found; aborting update.");Object.keys(e).forEach(function(t){n[t]=e[t]})},SET_SERVER:function(t,e){t.server=e},SET_SERVER_DETAILS:function(t,e){t.serverManifest=e},SET_TOKEN:function(t,e){t.token=e,t.isAuth=!0},SET_USER:function(t,e){t.user=e},SET_WEB_APP_CLIENT:function(t,e){t.client=e},FLUSH_ALL:function(t){t.token=null,t.user={},t.streams=[],t.projects=[],t.clients=[],t.users=[],t.comments=[],t.isAuth=!1},ADD_LOADED_STREAMID:function(t,e){t.loadedStreamIds=Object(E["a"])(new Set([].concat(Object(E["a"])(t.loadedStreamIds),[e])))},REMOVE_LOADED_STREAMID:function(t,e){var n=t.loadedStreamIds.indexOf(e);-1!==n?t.loadedStreamIds.splice(n,1):console.warn("Failed to remove loaded streamid: ".concat(e," from ").concat(t.loadedStreamIds))},ADD_OBJECTS:function(t,e){var n;(n=t.objects).push.apply(n,Object(E["a"])(e))},UPDATE_OBJECTS_STREAMS:function(t,e){var n=e.objIds,r=e.streamToAdd,o=e.streamToRemove;n.forEach(function(e){var n=t.objects.find(function(t){return t._id===e});if(n&&(r&&-1===n.streams.indexOf(r)&&n.streams.push(r),o)){var a=n.streams.indexOf(o);-1!==a&&n.streams.splice(a,1)}})},REMOVE_OBJECTS:function(t,e){t.objects=t.objects.filter(function(t){return-1===e.indexOf(t._id)})},SET_SELECTED_OBJECTS:function(t,e){var n=e.objectIds;n.length>0?t.selectedObjects=Object(E["a"])(new Set([].concat(Object(E["a"])(t.selectedObjects),Object(E["a"])(n)))):t.selectedObjects=[]},ADD_SELECTED_OBJECTS:function(t,e){var n=e.objectIds;t.selectedObjects=Object(E["a"])(new Set([].concat(Object(E["a"])(t.selectedObjects),Object(E["a"])(n))))},REMOVE_SELECTED_OBJECTS:function(t,e){var n=e.objectIds;n.forEach(function(e){var n=t.selectedObjects.indexOf(e);-1!==n&&t.selectedObjects.splice(n,1)})},SET_LEGEND:function(t,e){t.legend=e}},actions:{getStream:function(t,e){return new Promise(function(n,r){var o=t.state.streams.find(function(t){return t.streamId===e.streamId});if(o)return n(o);a.a.get("streams/".concat(e.streamId,"?omit=objects")).then(function(e){return t.commit("ADD_STREAMS",[e.data.resource]),n(e)}).catch(function(t){return r(t)})})},refreshStream:function(t,e){return new Promise(function(n,r){a.a.get("streams/".concat(e.streamId,"?omit=objects")).then(function(e){return t.commit("UPDATE_STREAM",e.data.resource),n(e)}).catch(function(t){return r(t)})})},getStreams:function(t,e){return new Promise(function(n,r){a.a.get("streams?".concat(e||"")).then(function(e){return t.commit("ADD_STREAMS",e.data.resources),n(e.data.resources)}).catch(function(t){return console.log(t),r(t)})})},createStream:function(t,e){return new Promise(function(n,r){a.a.post("streams").then(function(n){return console.log(n),e.streamId=n.data.resource.streamId,n.data.resource.onlineEditable=!0,t.commit("ADD_STREAMS",[n.data.resource]),t.commit("ADD_STREAMS_ADMIN",[n.data.resource]),a.a.put("streams/".concat(n.data.resource.streamId),e)}).then(function(r){return console.log(r),t.commit("UPDATE_STREAM",e),n(e)}).catch(function(t){return console.error(t),r(t)})})},updateStream:function(t,e){a.a.put("streams/".concat(e.streamId),e).then(function(n){t.commit("UPDATE_STREAM",e)}).catch(function(t){console.warn(t)})},updateStreamObjectsAndLayers:function(t,e){var n=e.streamId,r=e.commitMessage;return new Promise(function(e,o){var c=t.state.deStreams.find(function(t){return t.streamId===n});if(!c)return o(new Error("Stream not found in store."));c.commitMessage=r+" (changed by ".concat(t.state.user.name," ").concat(t.state.user.surname,")"),c.lastChangedBy=t.state.user._id,t.commit("UPDATE_STREAM",{streamId:n,commitMessage:r}),a.a.post("streams/".concat(n,"/clone")).then(function(e){var r=t.state.streams.find(function(t){return t.streamId===n});return t.commit("UPDATE_STREAM",{streamId:n,children:[].concat(Object(E["a"])(r.children),[e.data.clone.streamId])}),a.a.put("streams/".concat(n),c)}).then(function(t){return e(t)}).catch(function(t){return o(t)})})},getStreamClients:function(t,e){a.a.get("streams/".concat(e.streamId,"/clients")).then(function(e){t.commit("ADD_CLIENTS",e.data.resources)}).catch(function(t){console.log(t)})},deleteStream:function(t,e){a.a.delete("streams/".concat(e.streamId)).then(function(n){t.commit("DELETE_STREAM",{streamId:e.streamId})}).catch(function(t){console.log(t)})},getStreamObjects:function(t,e){t.state.streams.find(function(t){return t.streamId===e});return new Promise(function(n,r){t.dispatch("getStream",{streamId:e}).then(function(){return a.a.get("streams/".concat(e,"?fields=objects,layers"))}).then(function(r){var o=r.data.resource.objects.map(function(t){return t._id});t.commit("UPDATE_STREAM",{streamId:e,objects:o,layers:r.data.resource.layers}),n(o)}).catch(function(t){r(t)})})},getObjects:function(t,e){return new Promise(function(t,n){a.a.post("objects/getbulk?omit=base64,rawData,canRead,canWrite,children,anonymousComments,name",e).then(function(e){t(e.data.resources)}).catch(function(t){return n(t)})})},createObjects:function(t,e){return new Promise(function(t,n){a.a.post("objects",e).then(function(e){return t(e.data.resources)}).catch(function(t){return n(t)})})},getProject:function(t,e){return new Promise(function(n,r){a.a.get("projects/".concat(e._id)).then(function(e){return t.commit("ADD_PROJECTS",[e.data.resource]),n(e)}).catch(function(t){return console.error(t),r(t)})})},getProjects:function(t,e){return new Promise(function(n,r){a.a.get("projects?".concat(e||"")).then(function(e){return t.commit("ADD_PROJECTS",e.data.resources),n(e.data.resources)}).catch(function(t){return console.log(t),r(t)})})},createProject:function(t,e){return new Promise(function(n,r){a.a.post("projects",e||{name:"A new speckle project"}).then(function(e){return t.commit("ADD_PROJECTS",[e.data.resource]),t.commit("ADD_PROJECTS_ADMIN",[e.data.resource]),n(e.data.resource)}).catch(function(t){return console.log(t),r(t)})})},updateProject:function(t,e){a.a.put("projects/".concat(e._id),e).then(function(n){t.commit("UPDATE_PROJECT",e)}).catch(function(t){console.warn(t)})},addUserToProject:function(t,e){var n=e.projectId,r=e.userId;return new Promise(function(e,o){var c=t.state.projects.find(function(t){return t._id===n});if(!c)return o(new Error("Failed to find project in state."));a.a.put("projects/".concat(n,"/adduser/").concat(r)).then(function(o){var a={canWrite:Object(E["a"])(new Set([].concat(Object(E["a"])(c.permissions.canWrite),[r]))),canRead:c.permissions.canRead},i=Object(E["a"])(new Set([].concat(Object(E["a"])(c.canRead),[r])));return t.commit("UPDATE_PROJECT",{_id:n,permissions:a,canRead:i}),c.streams.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canWrite:T()([].concat(Object(E["a"])(n.canWrite),[r]))})}),e()}).catch(function(t){return console.warn(t),o(t)})})},upgradeUserInProject:function(t,e){var n=e.projectId,r=e.userId;return new Promise(function(e,o){var c=t.state.projects.find(function(t){return t._id===n});if(!c)return o(new Error("Failed to find project in state."));a.a.put("projects/".concat(n,"/upgradeuser/").concat(r)).then(function(t){return a.a.get("projects/".concat(n,"?fields=permissions"))}).then(function(o){return t.commit("UPDATE_PROJECT",{_id:n,permissions:{canRead:o.data.resource.permissions.canRead,canWrite:o.data.resource.permissions.canWrite}}),c.streams.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canWrite:T()([].concat(Object(E["a"])(n.canWrite),[r])),canRead:T()([].concat(Object(E["a"])(n.canRead),[r]))})}),e()}).catch(function(t){return console.warn(t),o(t)})})},downgradeUserInProject:function(t,e){var n=e.projectId,r=e.userId;return new Promise(function(e,o){var c=t.state.projects.find(function(t){return t._id===n});if(!c)return o(new Error("Failed to find project in state."));a.a.put("projects/".concat(n,"/downgradeuser/").concat(r)).then(function(o){return t.commit("UPDATE_PROJECT",{_id:n,permissions:o.data.project.permissions}),o.data.streamsToAddReadAndPullWrite.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canWrite:n.canWrite.filter(function(t){return t!==r}),canRead:T()([].concat(Object(E["a"])(n.canRead),[r]))})}),o.data.streamsToAddToRead.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canRead:T()([].concat(Object(E["a"])(n.canRead),[r]))})}),e()}).catch(function(t){return console.warn(t),o(t)})})},removeUserInProject:function(t,e){var n=e.projectId,r=e.userId;return new Promise(function(e,o){var c=t.state.projects.find(function(t){return t._id===n});if(!c)return o(new Error("Failed to find project in state."));a.a.delete("projects/".concat(n,"/removeuser/").concat(r)).then(function(o){return t.commit("UPDATE_PROJECT",{_id:n,canRead:o.data.project.canRead,canWrite:o.data.project.canWrite,permissions:o.data.project.permissions}),o.data.streamsToPullBothFrom.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canRead:n.canRead.filter(function(t){return t!==r}),canWrite:n.canWrite.filter(function(t){return t!==r})})}),o.data.streamsToPullWriteFrom.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canWrite:n.canWrite.filter(function(t){return t!==r})})}),o.data.streamsToPullReadFrom.forEach(function(e){var n=t.state.streams.find(function(t){return t.streamId===e});t.commit("UPDATE_STREAM",{streamId:e,canRead:n.canRead.filter(function(t){return t!==r})})}),e()}).catch(function(t){return console.warn(t),o(t)})})},addStreamToProject:function(t,e){var n=e.projectId,r=e.streamId;return new Promise(function(e,o){var c=t.state.projects.find(function(t){return t._id===n});if(!c)return o(new Error("Failed to find project in state."));a.a.put("projects/".concat(n,"/addstream/").concat(r)).then(function(o){return t.commit("UPDATE_PROJECT",{_id:n,streams:o.data.project.streams}),t.commit("UPDATE_STREAM",{streamId:r,canRead:o.data.stream.canRead,canWrite:o.data.stream.canWrite}),e()}).catch(function(t){return console.warn(t),o(t)})})},removeStreamFromProject:function(t,e){var n=e.projectId,r=e.streamId;return new Promise(function(e,o){var c=t.state.projects.find(function(t){return t._id===n});if(!c)return o(new Error("Failed to find project in state."));a.a.delete("projects/".concat(n,"/removestream/").concat(r)).then(function(o){return t.commit("UPDATE_PROJECT",{_id:n,streams:o.data.project.streams}),t.commit("UPDATE_STREAM",{streamId:r,canRead:o.data.stream.canRead,canWrite:o.data.stream.canWrite}),e()}).catch(function(t){return console.warn(t),o(t)})})},deleteProject:function(t,e){return new Promise(function(n,r){a.a.delete("projects/".concat(e._id)).then(function(r){t.commit("DELETE_PROJECT",{_id:e._id});var o=!0,a=!1,c=void 0;try{for(var i,s=r.data.modifiedStreams[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var u=i.value;t.commit("UPDATE_STREAM",{streamId:u.streamId,canRead:u.canRead,canWrite:u.canWrite})}}catch(d){a=!0,c=d}finally{try{o||null==s.return||s.return()}finally{if(a)throw c}}return n()}).catch(function(t){return console.warn(t),r(t)})})},loadLambdas:function(t){return new Promise(function(e,n){for(var r=[],o=(new O).Lambdas,c=0;c<o.length;c++)r.push(a()({method:"GET",url:".netlify/functions/".concat(o[c]),baseURL:location.protocol+"//"+location.host}));Promise.all(r).then(function(n){var r=[];return n.forEach(function(t){var e=t.data;e.function=t.request.responseURL.split("/").slice(-1).pop(),r.push(e)}),t.commit("ADD_LAMBDAS",r),e(r)})})},getProcessor:function(t,e){var n=JSON.parse(window.localStorage.getItem("processor_"+e._id));return null!==n&&t.commit("ADD_PROCESSORS",[n]),n},getProcessors:function(t){var e=JSON.parse(window.localStorage.getItem("processorIds"));if(null===e)return null;var n=[];return e.forEach(function(t){var e=JSON.parse(window.localStorage.getItem("processor_"+t));null!=e&&n.unshift(e)}),t.commit("ADD_PROCESSORS",n),n},createProcessor:function(t,e){var n=y()(),r=e||{name:"A new speckle processor"};r._id=n,r.hasOwnProperty("description")||(r.description="This is a simple speckle processor."),r.hasOwnProperty("tags")||(r.tags=[]),r.hasOwnProperty("blocks")||(r.blocks=[]),r.hasOwnProperty("params")||(r.params=[]),r.owner=t.state.user._id,r.private=!1,r.canRead=[t.state.user._id],r.canWrite=[t.state.user._id],r.anonymousComments=!1,r.comments=[],window.localStorage.setItem("processor_"+n,JSON.stringify(r)),t.commit("ADD_PROCESSORS",[r]);var o=JSON.parse(window.localStorage.getItem("processorIds"));return null===o&&(o=[]),o.unshift(n),window.localStorage.setItem("processorIds",JSON.stringify(o)),r},updateProcessor:function(t,e){var n=JSON.parse(window.localStorage.getItem("processor_"+e._id));Object.keys(e).forEach(function(t){n[t]=e[t]}),window.localStorage.setItem("processor_"+e._id,JSON.stringify(n)),t.commit("UPDATE_PROCESSOR",e)},deleteProcessor:function(t,e){window.localStorage.removeItem("processor_"+e._id),t.commit("DELETE_PROCESSOR",e);var n=JSON.parse(window.localStorage.getItem("processorIds"));if(null!==n){var r=n.indexOf(e._id);-1!==r&&(n.splice(r,1),window.localStorage.setItem("processorIds",JSON.stringify(n)))}},authenticateBlocks:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(e,n){var r,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}if(!n[r].msal){t.next=8;break}return o="msal|"+n[r].msal.clientId,t.next=6,M(n[r].msal);case 6:a=t.sent,e.commit("ADD_TOKEN",{id:o,token:a});case 8:r++,t.next=1;break;case 11:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),createClient:function(t,e){return new Promise(function(e,n){delete a.a.defaults.headers.common["Authorization"],a.a.post("clients",{role:"online-client",documentName:"Online interface",documentType:"browser",online:!0}).then(function(n){return t.commit("SET_WEB_APP_CLIENT",n.data.resource),e(n.data.resource)}).catch(function(t){return console.warn(t),n(t)}),a.a.defaults.headers.common["Authorization"]=t.state.token})},getUser:function(t,e){return new Promise(function(n,r){var o=t.state.users.find(function(t){return t._id===e._id});if(o)return n(o);a.a.get("accounts/".concat(e._id)).then(function(r){return t.state.user._id===e._id&&(r.data.resource.surname+=" (that is you!)"),t.commit("ADD_USER",r.data.resource),n(r.data.resource)}).catch(function(t){return r(t)})})},updateLoggedInUser:function(t,e){return new Promise(function(n,r){console.log(e),a.a.put("accounts",e).then(function(r){return t.commit("UPDATE_USER",e),n(r)}).catch(function(t){return r(t)})})},login:function(t,e){return new Promise(function(n,r){a.a.post("accounts/login",{email:e.email,password:e.password}).then(function(e){return t.commit("SET_TOKEN",e.data.resource.token),t.commit("SET_USER",e.data.resource),localStorage.setItem("token",e.data.resource.token),a.a.defaults.headers.common["Authorization"]=e.data.resource.token,n(e.data.resource)}).catch(function(t){return r(t)})})},logout:function(t,e){t.commit("FLUSH_ALL"),localStorage.removeItem("token"),a.a.defaults.headers.common["Authorization"]=""}},modules:{admin:x}});r["default"].use(_["a"]);var N=new _["a"]({linkExactActiveClass:"is-active",routes:[{path:"/",name:"dashboard",component:function(){return n.e("chunk-b2bc435c").then(n.bind(null,"7277"))},meta:{requiresAuth:!0}},{path:"/login/:redirectTo?",name:"login",component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))}},{path:"/register",name:"register",component:function(){return n.e("chunk-2d0d6d35").then(n.bind(null,"73cf"))}},{path:"/streams",name:"streams",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-ba06ea44")]).then(n.bind(null,"cf8c"))},meta:{requiresAuth:!0}},{path:"/streams/:streamId",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-31b22792")]).then(n.bind(null,"7057"))},meta:{requiresAuth:!0},children:[{name:"stream overview",path:"",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-40322304")]).then(n.bind(null,"a29c"))}},{name:"stream data",path:"data",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-e15986fe")]).then(n.bind(null,"05ce"))}},{name:"stream sharing",path:"sharing",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-11dea852")]).then(n.bind(null,"69e0"))}},{name:"stream history",path:"history",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-273d08e0")]).then(n.bind(null,"6a14"))}}]},{path:"/projects",name:"projects",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-2d2138f6")]).then(n.bind(null,"acca"))},meta:{requiresAuth:!0}},{path:"/projects/:projectId",name:"project overview",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-4ed6d37c")]).then(n.bind(null,"07bd"))},meta:{requiresAuth:!0}},{path:"/view/:streamIds*",name:"viewer",component:function(){return Promise.all([n.e("chunk-3fa38642"),n.e("chunk-b149a800")]).then(n.bind(null,"e1b1"))},meta:{requiresAuth:!1}},{path:"/trash",name:"trash",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-2d0b3630")]).then(n.bind(null,"27c8"))},meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:function(){return n.e("chunk-2d217357").then(n.bind(null,"c66d"))},meta:{requiresAuth:!0}},{path:"/plugins",name:"plugins",component:function(){return n.e("chunk-2d0d7de8").then(n.bind(null,"793c"))},meta:{requiresAuth:!0}},{path:"/feedback",name:"feedback",component:function(){return n.e("chunk-2d0daf2f").then(n.bind(null,"6e7a"))},meta:{requiresAuth:!0}},{path:"/admin",name:"",component:function(){return n.e("chunk-2d0b9d35").then(n.bind(null,"3530"))},meta:{requiresAuth:!0},children:[{name:"admin users",path:"",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-26a30cee")]).then(n.bind(null,"6135"))}},{name:"admin streams",path:"streams",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-6e5b3d4a")]).then(n.bind(null,"5c65"))}},{name:"admin projects",path:"projects",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-39bd985f")]).then(n.bind(null,"828b"))}}]},{path:"/processors",name:"processors",component:function(){return Promise.all([n.e("chunk-c45573d2"),n.e("chunk-2d0af48a"),n.e("chunk-2d0abfdc")]).then(n.bind(null,"1843"))},meta:{requiresAuth:!0}},{path:"/processors/:processorId",name:"processor overview",component:function(){return Promise.all([n.e("chunk-2d0af48a"),n.e("chunk-3fa38642"),n.e("chunk-28735d43")]).then(n.bind(null,"7179"))},meta:{requiresAuth:!0}}]});N.beforeEach(function(t,e,n){if(t.meta.requiresAuth&&!0===t.meta.requiresAuth&&!1===L.state.isAuth)return n({path:"/login"+(null!==t?"/"+window.btoa(t.path):"")});n()});var J=N,W=n("9483");Object(W["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var F=n("ce5b"),$=n.n(F),q=(n("bf40"),n("c0a4")),B=n.n(q),K=n("8682"),V=n("4710"),G=n.n(V),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{title:t.hint,contenteditable:!t.disabled},domProps:{innerHTML:t._s(t.getContent())},on:{blur:t.updateOnBlur,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateOnEnter(e)}}})},H=[],Y=(n("a481"),{name:"EditableSpan",props:{text:{type:String,default:"loading..."},disabled:{type:Boolean,default:!1},hint:{type:String,default:"click and type to edit"},dataKey:{type:String,default:""}},computed:{},data:function(){return{innerText:null}},methods:{getContent:function(){return this.innerText&&""!==this.innerText.replace(/(\r\n|\n|\r)/gm,"")?this.innerText:this.text},updateOnBlur:function(t){var e=t.target.innerText.replace(/(\r\n|\n|\r)/gm,"");if(""===e)return t.target.innerText=this.text;this.getContent()!==e&&(this.innerText=e,this.$emit("update",{text:e,dataKey:this.dataKey}))},updateOnEnter:function(t){var e=t.target.innerText.replace(/(\r\n|\n|\r)/gm,"");if(""===e)return t.target.innerText=this.text;this.getContent()!==e?(t.target.blur(),this.innerText=e):t.target.blur()}}}),Q=Y,X=(n("df5e"),Object(f["a"])(Q,z,H,!1,null,"8918005a",null)),Z=X.exports;r["default"].config.productionTip=!1,r["default"].use($.a,{theme:{primary:B.a.blue.darken1,secondary:B.a.blue.lighten4,accent:B.a.indigo.base}}),r["default"].use(K["a"],{locale:"en"});var tt=localStorage.getItem("server");L.state.server=tt||"".concat(window.location.origin,"/api"),a.a.defaults.baseURL=L.state.server;var et=localStorage.getItem("token");a.a.get(L.state.server).then(function(t){return L.state.serverManifest=t.data,a.a.get("".concat(L.state.server,"/accounts?omit=logins"),{headers:{Authorization:et}})}).then(function(t){null!==t&&200===t.status?(a.a.defaults.headers.common["Authorization"]=et,L.state.isAuth=!0,L.state.user=t.data.resource,L.state.token=et,rt()):rt()}).catch(function(t){rt()}),r["default"].prototype.$http=a.a,window.bus=new r["default"];var nt=new G.a;r["default"].mixin({methods:{getHexFromString:function(t){return nt.hex(t)}}}),r["default"].component("editable-span",Z);var rt=function(){new r["default"]({router:J,store:L,render:function(t){return t(b)}}).$mount("#app")}},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),o=n.n(r);o.a},"5e27":function(t,e,n){},cfb6:function(t,e,n){},df5e:function(t,e,n){"use strict";var r=n("cfb6"),o=n.n(r);o.a}});
//# sourceMappingURL=app.523cb5a7.js.map